(this.webpackJsonptubemusic=this.webpackJsonptubemusic||[]).push([[0],{126:function(e,t,a){},127:function(e,t,a){},220:function(e,t,a){},246:function(e,t,a){},264:function(e,t,a){e.exports=a(491)},269:function(e,t,a){},271:function(e,t,a){},292:function(e,t){},294:function(e,t){},331:function(e,t){},332:function(e,t){},411:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},485:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},491:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(32),i=a.n(s),l=(a(269),a(4)),o=a.n(l),c=a(6),u=a(7),d=a(9),p=a(8),m=a(3),h=a(10),y=a(519),f=(a(271),a(493)),g=a(494),b=a(495),v=a(496),k=a(497),E=a(498),w=a(499),P=a(520),O=a(521),j=a(522),x=a(500),N=a(501),C=a(26),S=a.n(C),I=a(517);function T(e){return 402!==e.response.status&&401!==e.response.status||(ne.logout(),window.location.reload(!0)),e.response}function A(e){return e}var U=a(249),L=a.n(U),q=function(e){return new Promise((function(t){return setTimeout(t,e)}))},D="AIzaSyCc5tyizZ6BVh1XtAv_ItjIlS7QMKWhe0c",R="https://still-crag-42621.herokuapp.com",B=function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(S.a.post(R+"/scrape/scrape",{items:e},ee()).catch((function(e){T(e)})));case 2:if(!(t=a.sent)){a.next=7;break}return a.abrupt("return",t.data);case 7:return a.abrupt("return",null);case 8:case"end":return a.stop()}}))},F=function(e){var t,a,n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t={headers:{"Content-Type":"application/json"},params:{item:e}},(a=ne.currentUserValue).token&&(t.headers["x-auth-token"]=a.token),r.next=5,o.a.awrap(S.a.get(R+"/scrape/search",t).then(A).catch((function(e){T(e)})));case 5:if(!(n=r.sent)){r.next=10;break}return r.abrupt("return",n.data.array);case 10:return r.abrupt("return",null);case 11:case"end":return r.stop()}}))},M=function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(S.a.get("https://www.googleapis.com/youtube/v3/search",{params:{part:"snippet",maxResults:1,key:D,q:e}}).catch((function(e){return console.log(e)})));case 2:if(!(t=a.sent)){a.next=7;break}return a.abrupt("return",t.data.items);case 7:return a.abrupt("return",null);case 8:case"end":return a.stop()}}))},z=function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(S.a.get("https://www.googleapis.com/youtube/v3/videos",{params:{part:"contentDetails",id:e,key:D}}));case 2:return t=a.sent,a.abrupt("return",t.data.items);case 4:case"end":return a.stop()}}))},Q=function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:"Bearer "+e}},n.next=3,o.a.awrap(S.a.get("https://api.spotify.com/v1/me",t));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}))},_=function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={headers:{Authorization:"Bearer "+e}},n.next=3,o.a.awrap(S.a.get("https://api.spotify.com/v1/me/playlists",t));case 3:return a=n.sent,n.abrupt("return",a.data);case 5:case"end":return n.stop()}}))},H=function(e,t){var a,n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a={headers:{Authorization:"Bearer "+e}},r.next=3,o.a.awrap(S.a.get(t,a));case 3:return n=r.sent,r.abrupt("return",n.data);case 5:case"end":return r.stop()}}))},V=function(e,t){var a,n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a={headers:{Authorization:"Bearer "+t}},r.next=3,o.a.awrap(S.a.get("https://api.spotify.com/v1/playlists/".concat(e,"/tracks"),a));case 3:return n=r.sent,r.abrupt("return",n.data);case 5:case"end":return r.stop()}}))},Y=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(S.a.get(R+"/playlists",ee()).catch((function(e){T(e)})));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))},J=function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(S.a.post(R+"/playlists/create",e,ee()).catch((function(e){T(e)})));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},W=function(e,t){var a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(q(100));case 2:return n.next=4,o.a.awrap(S.a.put(R+"/playlists/update/".concat(t),e,ee()));case 4:return a=n.sent,n.abrupt("return",a);case 6:case"end":return n.stop()}}))},G=function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(S.a.delete(R+"/playlists/delete/".concat(e),ee()).catch((function(e){T(e)})));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},K=function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(S.a.get(R+"/playlists/find/".concat(e),ee()).catch((function(e){T(e)})));case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},X=function(e,t,a,n,r,s){var i;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return i=JSON.stringify({playlistId:e,playlistName:t,private:a,owner:n,createdAt:r}),s.next=3,o.a.awrap(S.a.put(R+"/users/addPlaylist",i,ee()).catch((function(e){T(e)})));case 3:case"end":return s.stop()}}))},Z=function(e,t){var a;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(S.a.delete(R+"/users/deletePlaylist".concat(e),ee()).catch((function(e){T(e)})));case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}))},$=function(e,t,a,n){var r;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return r=JSON.stringify({playlistId:e,playlistName:t,private:a}),n.next=3,o.a.awrap(S.a.put(R+"/users/editPlaylist".concat(e),r,ee()).catch((function(e){T(e)})));case 3:case"end":return n.stop()}}))},ee=function(){var e={headers:{"Content-Type":"application/json"}},t=ne.currentUserValue;if(t){var a=L.a.decode(t.token);a||(ne.logout(),window.location.reload(!0));var n=Math.floor((new Date).getTime()/1e3)-a.exp;e.headers["x-auth-token"]=t.token,n>-3870&n<-10&&S.a.get(R+"/auth/renew",e).then((function(e){ne.newToken(e.data)}))}return e},te="https://still-crag-42621.herokuapp.com";try{JSON.parse(localStorage.getItem("token"))}catch(Kt){localStorage.removeItem("token")}var ae=new I.a(JSON.parse(localStorage.getItem("token"))),ne={login:function(e,t){var a,n,r;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a={headers:{"Content-Type":"application/json"}},n=JSON.stringify({email:e,password:t}),s.prev=2,s.next=5,o.a.awrap(S.a.post(te+"/auth",n,a));case 5:r=s.sent,ae.next(r.data),localStorage.setItem("token",JSON.stringify(r.data)),s.next=13;break;case 10:return s.prev=10,s.t0=s.catch(2),s.abrupt("return",s.t0.response.data.msg);case 13:case"end":return s.stop()}}),null,null,[[2,10]])},logout:function(){localStorage.removeItem("token"),ae.next(null)},signup:function(e){console.log(e);var t=JSON.stringify({name:e.signUpName,email:e.signUpEmail,role:"User",password:e.signUpPassword});return S.a.post(te+"/users/create",t,{headers:{"Content-Type":"application/json"}}).then((function(e){ae.next(e.data),localStorage.setItem("token",JSON.stringify(e.data))})).catch((function(e){return e.response}))},loadUser:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.a.get(te+"/auth/user",ee()).then((function(e){return e.data})).catch((function(e){T(e)})));case 1:case"end":return e.stop()}}))},newToken:function(e){ae.next(e),localStorage.setItem("token",JSON.stringify(e))},currentUser:ae.asObservable(),get currentUserValue(){return ae.value}};var re=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={isOpen:!1};var n=window.pageYOffset;return window.onscroll=function(){var e=window.pageYOffset;document.getElementById("navbar").style.top=n>e?"0":"-50px",n=e},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=ne.currentUserValue;return r.a.createElement("div",null,r.a.createElement(f.a,{className:"navbar navbar-dark navbar-expand-lg",expand:"md",id:"navbar"},r.a.createElement(g.a,{href:"/"},"TubeMusic"),r.a.createElement(b.a,{onClick:function(){return e.setState({isOpen:!e.state.isOpen})}}),r.a.createElement(v.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(k.a,{className:"mr-auto",navbar:!0},r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"/spotify"},"Spotify")),r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"/playlists"},"Playlists")),t&&"Admin"===t.user.role?r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"/admin"},"Admin")):"",r.a.createElement(P.a,{nav:!0,inNavbar:!0},r.a.createElement(O.a,{nav:!0,caret:!0},"Options"),r.a.createElement(j.a,{right:!0},r.a.createElement(x.a,null,"Option 1"),r.a.createElement(x.a,null,"Option 2"),r.a.createElement(x.a,{divider:!0}),r.a.createElement(x.a,null,"Reset")))),r.a.createElement(N.a,null,"Hello, ",t&&t.user.name),r.a.createElement(k.a,{className:"navbar-nav",navbar:!0},r.a.createElement(E.a,null,r.a.createElement(w.a,{href:"#",onClick:this.props.logout},"Sign out"))))))}}]),t}(n.Component),se=(a(411),a(504)),ie=a(505),le=a(502),oe=a(503),ce=a(250),ue=a(506),de=(a(220),a(64),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onAddClick=function(e){a.props.addFunc({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle})},a.onPlayClick=function(e){a.props.onPlay({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle})},a.onAddToPlaylist=function(e){console.log(e),a.props.AddToPlaylist({uniqueId:Math.random(),title:e.title,videoId:e.videoId,duration:e.duration,publishedAt:e.publishedAt,channelTitle:e.channelTitle,date:Date.now()})},a.playNextClick=function(e){a.props.playNext(e)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(le.a,{className:"card-2",id:"videoitem"},r.a.createElement(oe.a,null,r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ce.a,{className:"btn btn-secondary float-right btn-item",onClick:this.onPlayClick.bind(this,this.props)},"Play"))),r.a.createElement(ie.a,{xs:"7",sm:"7"},r.a.createElement(ue.a,null,this.props.title)),r.a.createElement(ie.a,{xs:"2",sm:"2"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ce.a,{className:"btn btn-primary btn-item",color:"secondary",onClick:this.onAddToPlaylist.bind(this,this.props)},"+P"))),r.a.createElement(ie.a,{xs:"1",sm:"1"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ce.a,{className:"btn btn-secondary  float-right btn-item",color:"secondary",onClick:this.playNextClick.bind(this,this.props)},"+N"),r.a.createElement(ce.a,{className:"btn btn-secondary  float-right btn-item",color:"secondary",onClick:this.onAddClick.bind(this,this.props)},"+Q")))),r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"4",sm:"4"},r.a.createElement("small",{className:"float-left"},"Length\xa0",this.props.duration))))))}}]),t}(n.Component)),pe=a(36),me=a(19),he=a.n(me),ye=a(253),fe=a.n(ye),ge=(a(126),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={loading:!0,size:a.props.size||35},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading"},r.a.createElement(fe.a,{size:this.state.size,color:this.props.color||"#c45a8e",loading:this.state.loading}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"italic"},"Loading..."))}}]),t}(r.a.Component)),be=(a(415),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={loading:a.props.loading,error:a.props.error},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({loading:this.props.loading,error:this.props.error})}},{key:"render",value:function(){var e=this,t=this.props.items;return r.a.createElement("div",{id:"videolist"},this.state.loading?r.a.createElement("div",{className:"loadingPlace"},r.a.createElement(ge,null)):null,this.state.error?r.a.createElement("span",null,"Error has occured. Most likely quote limit has been exceeded for the day."):"",t.map((function(t){var a=t.title,n=t.publishedAt,s=t.channelTitle,i=t.videoId,l=t.thumbnail,o=t.uniqueId,c=t.duration;return r.a.createElement(pe.CSSTransition,{key:o,timeout:500,classNames:"fade"},r.a.createElement(de,{playNext:e.props.playNext,uniqueId:o,title:a,thumbnail:l,channelTitle:s,publishedAt:n,videoId:i,addFunc:e.props.onAdd,onPlay:e.props.onPlay,AddToPlaylist:e.props.AddToPlaylist,duration:c}))})))}}]),t}(n.Component)),ve=a(507),ke=a(523),Ee=a(508),we=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={text:""},a.onChangetext=function(e){a.setState({text:e.target.value})},a.submit=function(e){e.preventDefault(),a.props.handleSubmit(a.state.text)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.submit},r.a.createElement(ve.a,null,r.a.createElement(ke.a,{addonType:"prepend"}),r.a.createElement(Ee.a,{type:"text",placeholder:"Search for songs on YouTube...",required:!0,className:"form-control",value:this.state.text,onChange:this.onChangetext}),r.a.createElement(ke.a,{addonType:"append"},r.a.createElement(ce.a,{color:"secondary"},"Search")))))}}]),t}(n.Component),Pe=a(509),Oe=a(61),je=(a(127),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={editMode:a.props.editMode},a.onPlayClick=function(e){a.props.onPlay(e)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onRemoveClick",value:function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.onRemove(e);case 1:case"end":return t.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({editMode:this.props.editMode})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(le.a,{className:"card"},r.a.createElement(oe.a,null,r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ce.a,{className:"btn btn-secondary float-right btn-item",onClick:this.onPlayClick.bind(this,this.props)},"Play"))),r.a.createElement(ie.a,{xs:"7",sm:"7"},r.a.createElement(ue.a,null,this.props.title)),r.a.createElement(ie.a,{xs:"1",sm:"1"},r.a.createElement("small",{className:"float-left"},this.props.duration)),r.a.createElement(ie.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},this.props.editMode?r.a.createElement(ce.a,{className:"btn btn-secondary button float-right",color:"secondary",onClick:this.onRemoveClick.bind(this,this.props)},"x"):null))))))}}]),t}(n.Component)),xe=a(22),Ne=Object(Oe.b)((function(e){var t=e.uniqueId,a=e.title,n=e.thumbnail,s=e.channelTitle,i=e.publishedAt,l=e.videoId,o=e.duration,c=e.onRemove,u=e.onPlay,d=e.editMode;return r.a.createElement(je,{key:t,uniqueId:t,title:a,thumbnail:n,channelTitle:s,publishedAt:i,videoId:l,onRemove:c,onPlay:u,duration:o,editMode:d})})),Ce=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).renderRow=function(e){var t=e.index,n=e.style,s=a.props.queue[t],i=s.title,l=s.publishedAt,o=s.channelTitle,c=s.videoId,u=s.thumbnail,d=s.uniqueId,p=s.duration;return r.a.createElement("div",{key:d,style:n},r.a.createElement(Ne,{className:"QueueItem",key:d,uniqueId:d,index:t,title:i,videoId:c,publishedAt:l,channelTitle:o,thumbnail:u,onRemove:a.props.onRemove,onPlay:a.props.onPlay,duration:p,editMode:a.props.editMode}))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.getRef,t=this.props.queue;return r.a.createElement(xe.c,{ref:e,rowHeight:82,rowRenderer:this.renderRow,rowCount:t.length,width:this.props.width,height:300})}}]),t}(n.Component),Se=a(106),Ie=a.n(Se),Te=Object(Oe.a)(Ce),Ae=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).registerListRef=function(e){a.List=e},a.onSortEnd=function(e){var t=e.oldIndex,n=e.newIndex;if(t!==n){var r=a.state.queue;a.setState({queue:Ie()(r,t,n)}),a.props.setQueue(a.state.queue),a.List.recomputeRowHeights(),a.List.forceUpdate()}},a.toggle=function(){a.setState({editMode:!a.state.editMode}),a.List.recomputeRowHeights(),a.List.forceUpdate()},a.state={queue:a.props.queue,editMode:!1,animation:!1},a.shuffleQueue=a.shuffleQueue.bind(Object(m.a)(a)),a.clearQueue=a.clearQueue.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({queue:this.props.queue})}},{key:"shuffleQueue",value:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({animation:!0}),e.next=3,o.a.awrap(Ae(200));case 3:this.props.shuffleQueue(),this.List.recomputeRowHeights(),this.List.forceUpdate();case 6:case"end":return e.stop()}}),null,this)}},{key:"clearQueue",value:function(){this.props.clearQueue()}},{key:"render",value:function(){var e=this,t=this.state.animation;return r.a.createElement("div",null,this.props.queue[0]?r.a.createElement(Pe.a,null,r.a.createElement(ce.a,{disabled:!this.props.queue[0],className:"float-right btn-remove",onClick:this.clearQueue},"CLEAR"),r.a.createElement(ce.a,{disabled:!this.props.queue[0],className:"float-right",onClick:this.shuffleQueue},"SHUFFLE"),r.a.createElement(ce.a,{disabled:!this.props.queue[0],className:"float-left btn-edit",onClick:this.toggle},this.state.editMode?"Save":"Edit"),r.a.createElement("span",null," ",r.a.createElement("span",null,"Queue")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{onAnimationEnd:function(){return e.setState({animation:!1})},className:t?"animation":"queue"},r.a.createElement(xe.a,{disableHeight:!0},(function(t){var a=t.width;return r.a.createElement(Te,{getRef:e.registerListRef,queue:e.state.queue,onSortEnd:e.onSortEnd,onRemove:e.props.onRemove,onPlay:e.props.onPlay,editMode:e.state.editMode,width:a,distance:1})})))):"")}}]),t}(n.Component),Le=a(258),qe=a.n(Le),De=a(41),Re=a(513),Be=a(514),Fe=a(524),Me=a(13),ze=a(518),Qe=a(511),_e=a(512),He=a(510),Ve=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onAddClick=function(e){a.props.addFunc(e)},a.onPlayClick=function(e){a.props.onPlay(e)},a.onAddToPlaylist=function(e){a.props.AddToPlaylist(e)},a.state={uniqueId:Math.random(),title:a.props.name,videoId:a.props.url.split("https://www.youtube.com/watch?v=")[1]},a.loadPlaylist=a.loadPlaylist.bind(Object(m.a)(a)),a.deletePlaylist=a.deletePlaylist.bind(Object(m.a)(a)),a.onAddClick=a.onAddClick.bind(Object(m.a)(a)),a.onPlayClick=a.onPlayClick.bind(Object(m.a)(a)),a.onAddToPlaylist=a.onAddToPlaylist.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"loadPlaylist",value:function(e){this.props.loadPlaylist(e)}},{key:"deletePlaylist",value:function(e){this.props.deletePlaylist(e._id)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(le.a,{className:"card"},r.a.createElement(oe.a,null,r.a.createElement("span",{style:{flexDirection:"column"}},r.a.createElement(ce.a,{className:"btn btn-primary float-right btn-remove",color:"secondary",onClick:this.onAddToPlaylist.bind(this,this.state)},"+ P"),r.a.createElement(ce.a,{className:"btn btn-primary float-left btn-remove",onClick:this.onPlayClick.bind(this,this.state),color:"primary"},"Play"),r.a.createElement(ce.a,{className:"btn btn-primary float-right btn-remove",color:"info",onClick:this.onAddClick.bind(this,this.state)},"+ Q")),r.a.createElement(He.a,{style:{textAlign:"center"}},this.state.title))))}}]),t}(n.Component),Ye=(a(479),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,name:"",history:a.props.history},a.onChange=function(e){a.setState(Object(Me.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({history:this.props.history})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ze.a,{isOpen:this.props.isOpen,toggle:this.props.toggle},r.a.createElement(Qe.a,{className:"mb-4",toggle:this.props.toggle},"Recently played songs:"),r.a.createElement(se.a,null,r.a.createElement("div",{className:"clearButton"},r.a.createElement(ce.a,{className:"float-right",onClick:this.props.clearList},"Clear All"))),r.a.createElement(_e.a,null,r.a.createElement("div",{id:"videolist"},this.state.history.map((function(t){var a=t.title,n=t.videoId,s=t.url;return r.a.createElement(pe.CSSTransition,{key:Math.random(),timeout:500,classNames:"fade"},r.a.createElement(Ve,{url:s,name:a,videoId:n,addFunc:e.props.addFunc,onPlay:e.props.onPlay,AddToPlaylist:e.props.AddToPlaylist}))}))))))}}]),t}(n.Component)),Je=(a(480),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).load=function(e){a.setState({url:e,played:0,loaded:0,pip:!1})},a.toggle=function(){a.setState({modal:!a.state.modal})},a.clearHistory=function(){a.setState({history:[]})},a.handlePlayPause=function(){var e=a.state.playing;a.setState({playing:!a.state.playing}),a.props.setPlaying(!e),null!==a.state.url||a.state.playing||a.handlePlayNext()},a.handlePlay=function(){console.log("onPlay"),a.setState({playing:!0}),null===a.state.url&&a.handlePlayNext()},a.addToHistory=function(e){a.state.history.unshift(e)},a.handlePlayNext=function(){if(console.log("onPlay"),"undefined"!==typeof a.state.array[0]){a.props.setTitle(a.state.array[0].title);var e="https://www.youtube.com/watch?v="+a.state.array[0].videoId;e===a.state.url&&a.player.seekTo(0),a.setState({playing:!0,url:e,title:a.state.array[0].title}),De.a.notify(r.a.createElement("span",null,"Now playing: ",a.state.array[0].title),{duration:1200,position:"bottom"}),a.props.onRemove(a.state.array[0]),a.props.setUrl(e)}else a.setState({playing:!1,url:null})},a.handleVolumeChange=function(e){a.setState({volume:parseFloat(e.target.value)})},a.handlePause=function(){console.log("onPause"),a.setState({playing:!1})},a.handleEnded=function(){console.log("onEnded"),a.handlePlayNext()},a.renderLoadButton=function(e,t){return r.a.createElement("button",{onClick:function(){return a.load(e)}},t)},a.ref=function(e){a.player=e},a.state={url:a.props.url,title:"",pip:!1,playing:!1,controls:!0,light:!1,volume:.5,muted:!1,duration:0,played:0,loaded:0,playbackRate:1,loop:!1,array:a.props.array,modal:!1,history:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){if(!he()(this.props,e)&&(this.setState({url:this.props.url,array:this.props.array,title:this.props.title,playing:this.props.playing}),function(e){if("string"!==typeof e)throw new Error("Title should be an string");document.title=e}(this.props.title),this.props.url!==e.url&&"undefined"!==typeof e.url&&null!==e.url)){var t={};if(console.log(e),t.title=e.title,t.url=e.url,t.duration=e.duration,null===t.url)return;this.addToHistory(t)}}},{key:"seekTo0",value:function(){this.player.seekTo(0)}},{key:"render",value:function(){var e=this.state,t=e.playing,a=e.volume;return r.a.createElement("div",null,r.a.createElement("p",null,"Now playing: ",this.state.title),r.a.createElement("section",{className:"section"},r.a.createElement(Pe.a,{className:"container-fluid"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"player-wrapper"},r.a.createElement(qe.a,{ref:this.ref,className:"react-player",width:"100%",height:"100%",url:this.state.url,playing:t,controls:this.state.controls,volume:a,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onError:function(e){return console.log("onError",e)}})),r.a.createElement("br",null),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(Re.a,null,r.a.createElement(ce.a,{className:"btn-controls btn-secondary",onClick:this.handlePlayPause},t?"Pause":"Play"),r.a.createElement(ce.a,{disabled:!this.props.array[0],className:"btn-controls btn-secondary",onClick:this.handleEnded},"Play from queue"),r.a.createElement(ce.a,{disabled:!this.props.array[0],className:"btn-controls btn-secondary",onClick:this.handleEnded},"Play next song"),r.a.createElement(ce.a,{disabled:!this.state.history[0],className:"btn-controls btn-secondary float-right",onClick:this.toggle},"History"),r.a.createElement(Ye,{isOpen:this.state.modal,toggle:this.toggle,history:this.state.history,clearList:this.clearHistory,addFunc:this.props.onAdd,onPlay:this.props.onPlay,AddToPlaylist:this.props.AddToPlaylist})),r.a.createElement(Re.a,null,r.a.createElement(Be.a,{for:"exampleCustomRange"},"Volume control"),r.a.createElement(Fe.a,{type:"range",id:"exampleCustomRange",name:"customRange",min:0,max:1,step:"any",value:a,onChange:this.handleVolumeChange}),r.a.createElement("p",null," Use this to change volume."))))))))))}}]),t}(n.Component)),We=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Ge=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"loadPlaylist",value:function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loading:!0}),t.next=3,o.a.awrap(We(500));case 3:return t.next=5,o.a.awrap(this.props.loadPlaylist(e._id));case 5:t.sent&&this.setState({loading:!1});case 7:case"end":return t.stop()}}),null,this)}},{key:"deletePlaylist",value:function(e){this.props.deletePlaylist(e._id)}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement(le.a,{className:"card"},r.a.createElement(oe.a,null,r.a.createElement("span",{style:{flexDirection:"column"}},r.a.createElement(ce.a,{className:"btn btn-primary float-right btn-remove",color:"danger",onClick:this.deletePlaylist.bind(this,this.props)},"x"),r.a.createElement(ce.a,{color:"primary",onClick:this.loadPlaylist.bind(this,this.props),className:this.state.loading?"loading btn btn-primary float-left":"btn btn-primary float-left"},this.state.loading?"Loading...":"Load")),r.a.createElement(He.a,{style:{textAlign:"center"}},this.props.name))))}}]),t}(n.Component),Ke=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1},a.toggle=function(){a.props.getPlayList(),a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(Me.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.playlists;return console.log(t),r.a.createElement("div",null,r.a.createElement(ce.a,{disabled:!t,className:"btn-margin btn btn-secondary button",onClick:this.toggle,color:"secondary",href:"#"},this.props.name),r.a.createElement(ze.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Qe.a,{className:"mb-4",toggle:this.toggle},"Playlists",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("p",{className:"formText text-center"},"Select a playlist and load it :)"),r.a.createElement("div",{id:"videolist"},t.map((function(t){t.playlist;var a=t.name,n=t._id,s=t.owner,i=t.createdAt;return r.a.createElement(pe.CSSTransition,{key:n,timeout:500,classNames:"fade"},r.a.createElement(Ge,{deletePlaylist:e.props.deletePlaylist,_id:n,owner:s,createdAt:i,name:a,loadPlaylist:e.props.loadPlaylist,disabled:e.props.disabled}))})))))}}]),t}(n.Component),Xe=a(515),Ze=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).boxChange=function(e){a.setState({checked:e.target.checked})},a.toggle=function(){a.setState({modal:!a.state.modal,playlistName:a.props.playlistName})},a.onChange=function(e){a.setState(Object(Me.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault(),a.props.Updateplaylist(a.state.playlistName,a.props.playlistId,a.state.checked),a.toggle()},a.state={modal:!1,playlistName:a.props.playlistName,checked:a.props.isPrivate,playlistOwner:a.props.playlistOwner,userName:a.props.userName},a.toggle=a.toggle.bind(Object(m.a)(a)),a.onChange=a.onChange.bind(Object(m.a)(a)),a.onSubmit=a.onSubmit.bind(Object(m.a)(a)),a.boxChange=a.boxChange.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({playlistName:this.props.playlistName,checked:this.props.isPrivate,playlistOwner:this.props.playlistOwner,userName:this.props.userName})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce.a,{className:"float-right btn-margin btn btn-secondary button",onClick:this.toggle,href:"#",color:"primary",disabled:!(this.props.playlistId&&this.state.playlistOwner===this.state.userName||"Admin"===this.props.userRole)},"Save as"),r.a.createElement(ze.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Qe.a,{className:"mb-4",toggle:this.toggle},"Save playlist as",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(Xe.a,{onSubmit:this.onSubmit},r.a.createElement(_e.a,null,r.a.createElement(Re.a,null,r.a.createElement(Be.a,{for:"name"},"Name:"),r.a.createElement(Ee.a,{type:"name",name:"playlistName",id:"playlistName",placeholder:this.state.playlistName,value:this.state.playlistName||"",className:"mb-4",onChange:this.onChange}),r.a.createElement("div",{className:"check"},r.a.createElement(Be.a,{check:!0,className:"float-right"},r.a.createElement(Ee.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"}),"Make the playlist private?")),r.a.createElement("br",null),r.a.createElement(ce.a,{className:"btn btn-primary my-4 btn-block"},"Save"))))))}}]),t}(n.Component);function $e(e,t){var a=(t?["All","Random","Rock","EDM","Rap","Chill","parti"]:["Random","Rock","EDM","Rap","Chill","parti"]).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}));return r.a.createElement(Ee.a,{onChange:e,type:"select",name:"select",id:"exampleSelect"},a)}var et=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,name:"",checked:!1,select:"Random"},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(Me.a)({},e.target.name,e.target.value)),console.log(a.state.select)},a.onSubmit=function(e){e.preventDefault(),console.log(e),a.props.makePlaylist(a.state.name,[],a.state.checked,a.state.select),a.toggle()},a.boxChange=function(e){a.setState({checked:e.target.checked})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce.a,{className:"float-left btn-margin btn-secondary btn button",onClick:this.toggle,href:"#",color:"secondary"},"Create new"),r.a.createElement(ze.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Qe.a,{className:"mb-4",toggle:this.toggle},"Create a new playlist here :)",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(Xe.a,{onSubmit:this.onSubmit},r.a.createElement(_e.a,null,r.a.createElement(Re.a,null,r.a.createElement(Be.a,{for:"name"},"Name for the playlist:"),r.a.createElement(Ee.a,{type:"name",name:"name",id:"name",placeholder:"epic-partylist",className:"mb-4",onChange:this.onChange}),r.a.createElement(Be.a,{className:""},"Genres"),$e(this.onChange),r.a.createElement("br",null),r.a.createElement("div",{className:"check"},r.a.createElement(Be.a,{check:!0,className:"float-right "},r.a.createElement(Ee.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"}),"Make the playlist private?")),r.a.createElement("br",null),r.a.createElement(ce.a,{className:"btn btn-primary my-4 btn-block"},"Save"))))))}}]),t}(n.Component),tt=(a(246),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={playlist:a.props.playlist,editMode:a.props.editMode,fade:!1},a.onAddClick=function(e){a.setState({fade:!0}),a.props.addFunc(e)},a.onPlayClick=function(e){a.props.onPlay(e)},a.onDeleteClick=function(e){a.props.onDeleteFromPlaylist(e)},a.playNextClick=function(e){a.props.playNext(e)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({playlist:this.props.playlist,editMode:this.props.editMode})}},{key:"render",value:function(){var e=this,t=this.state.fade;return r.a.createElement(le.a,{onAnimationEnd:function(){return e.setState({fade:!1})},className:t?"card fade2":"card"},r.a.createElement(oe.a,null,r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ce.a,{className:"btn btn-secondary float-right btn-item",onClick:this.onPlayClick.bind(this,this.props)},"Play"))),r.a.createElement(ie.a,{xs:"6",sm:"6"},r.a.createElement(ue.a,null,this.props.title)),r.a.createElement(ie.a,{xs:"2",sm:"2"},r.a.createElement("small",{className:"float-left"},this.props.duration)),r.a.createElement(ie.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},this.props.editMode?r.a.createElement(ce.a,{className:"btn btn-secondary btn-remove float-right btn-item",color:"danger",onClick:this.onDeleteClick.bind(this,this.props)},"x"):r.a.createElement("div",{className:"flex-container"},r.a.createElement(ce.a,{className:"btn btn-secondary float-right btn-item",color:"info",onClick:this.playNextClick.bind(this,this.props)},"+N"),r.a.createElement(ce.a,{className:"btn btn-secondary float-right btn-item",color:"info",onClick:this.onAddClick.bind(this,this.props)},"+Q")))))))}}]),t}(n.Component)),at=Object(Oe.b)((function(e){var t=e.uniqueId,a=e.title,n=e.publishedAt,s=e.videoId,i=e.onAdd,l=e.onPlay,o=e.onDeleteFromPlaylist,c=e.duration,u=e.onRemove,d=e.editMode,p=e.playNext;return r.a.createElement(tt,{key:t,uniqueId:t,title:a,videoId:s,addFunc:i,onPlay:l,onDeleteFromPlaylist:o,onRemove:u,duration:c,publishedAt:n,editMode:d,playNext:p})})),nt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).renderRow=function(e){var t=e.index,n=e.style,s=a.props.playlist[t],i=s.title,l=s.publishedAt,o=s.videoId,c=s.uniqueId,u=s.duration;return r.a.createElement("div",{key:c,style:n},r.a.createElement(at,{index:t,key:c,uniqueId:c,title:i,videoId:o,onAdd:a.props.onAdd,onPlay:a.props.onPlay,onDeleteFromPlaylist:a.props.onDeleteFromPlaylist,onRemove:a.props.onRemove,duration:u,publishedAt:l,editMode:a.props.editMode,playNext:a.props.playNext}))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.getRef,t=this.props.playlist;return r.a.createElement(xe.c,{ref:e,rowHeight:82,rowRenderer:this.renderRow,rowCount:t.length,width:this.props.width,height:500})}}]),t}(n.Component),rt=Object(Oe.a)(nt),st=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState({filter:e.target.value})},a.toggle=function(){a.setState({editMode:!a.state.editMode}),setTimeout((function(){return a.props.loadPlaylist(a.state.playlistId)}),200),a.List.recomputeRowHeights(),a.List.forceUpdate()},a.registerListRef=function(e){a.List=e},a.onSortEnd=function(e){var t=e.oldIndex,n=e.newIndex;if(t!==n){var r=a.props.playlist;a.setState({playlist:Ie()(r,t,n)}),a.props.setPlaylist(a.state.playlist),a.props.UpdateCurrentPlaylist(),a.List.recomputeRowHeights(),a.List.forceUpdate()}},a.state={playlists:a.props.playlists,playlist:a.props.playlist,playlistName:a.props.playlistName,playlistId:a.props.playlistId,editMode:!1,filter:"",playlistOwner:a.props.playlistOwner,userName:a.props.userName},a.UpdateCurrentPlaylist=a.UpdateCurrentPlaylist.bind(Object(m.a)(a)),a.toggle=a.toggle.bind(Object(m.a)(a)),a.onDeleteFromPlaylist=a.onDeleteFromPlaylist.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.addPlaylistToQueue=a.addPlaylistToQueue.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"addPlaylistToQueue",value:function(e){this.props.addPlaylistToQueue(e)}},{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({playlist:this.props.playlist,playlists:this.props.playlists.reverse,playlistName:this.props.playlistName,playlistId:this.props.playlistId,playlistOwner:this.props.playlistOwner,userName:this.props.userName})}},{key:"onDeleteFromPlaylist",value:function(e){console.log(e);for(var t=0;t<this.state.playlist.length;t++)if(this.state.playlist[t].uniqueId===e.uniqueId){this.state.playlist.splice(t,1);break}this.props.onDeleteFromPlaylist(e)}},{key:"playPlaylist",value:function(e){console.log("playPlaylist"),this.props.playPlaylist(e)}},{key:"UpdateCurrentPlaylist",value:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.setPlaylist(this.state.playlist),e.next=3,o.a.awrap(this.props.UpdateCurrentPlaylist());case 3:this.toggle();case 4:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.filter,a=this.props,n=a.playlists,s=a.playlist;console.log(s);var i=t.toLowerCase(),l=s.filter((function(e){return null===e||"undefined"===typeof e?s:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"title"===t&&e[t].toLowerCase().includes(i)}))}));return r.a.createElement("div",null,r.a.createElement("div",{className:"btn-group "},r.a.createElement(ce.a,{className:"float-left btn-margin btn-secondary",color:"info",onClick:this.playPlaylist.bind(this,l),disabled:!this.props.playlist[0]},"Play"),r.a.createElement(et,{makePlaylist:this.props.makePlaylist,playlistName:this.state.playlistName}),r.a.createElement(Ke,{name:"Playlists",deletePlaylist:this.props.deletePlaylist,getPlayList:this.props.getPlayList,playlists:n,loadPlaylist:this.props.loadPlaylist}),r.a.createElement(Ze,{userRole:this.props.userRole,userName:this.state.userName,playlistId:this.props.playlistId,isPrivate:this.props.isPrivate,Updateplaylist:this.props.Updateplaylist,playlistName:this.state.playlistName,playlistOwner:this.state.playlistOwner}),r.a.createElement(ce.a,{className:"float-right btn-margin btn btn-secondary button",color:"info",onClick:this.addPlaylistToQueue.bind(this,l),disabled:!this.props.playlist[0]},"+ Q")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"float-left"},"Current playlist: ",this.state.playlistName),r.a.createElement("br",null),r.a.createElement(Ee.a,{value:t,onChange:this.handleChange,placeholder:"Filter songs..."}),r.a.createElement("hr",null),r.a.createElement(ce.a,{color:(this.state.editMode,"secondary"),className:"float-right btn-remove",onClick:this.toggle,disabled:!this.state.playlistName},this.state.editMode?"Revert changes":"Edit"),this.state.editMode?r.a.createElement(ce.a,{onClick:this.UpdateCurrentPlaylist,className:"float-right btn-remove"},"Save"):null,r.a.createElement("p",{className:"float-left"},"Total songs: ",l.length),r.a.createElement(xe.a,{disableHeight:!0},(function(t){var a=t.width;return r.a.createElement(rt,{playNext:e.props.playNext,editMode:e.state.editMode,getRef:e.registerListRef,playlist:l,onSortEnd:e.onSortEnd,onAdd:e.props.onAdd,onPlay:e.props.onPlay,onDeleteFromPlaylist:e.onDeleteFromPlaylist,width:a,distance:10})})))}}]),t}(n.Component);function it(e,t){return Math.floor(Math.random()*(e-t)+t)}a(481),a(482);var lt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ot=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).ref=function(e){a.player=e},a.onAdd=a.onAdd.bind(Object(m.a)(a)),a.onDelete=a.onDelete.bind(Object(m.a)(a)),a.onPlay=a.onPlay.bind(Object(m.a)(a)),a.getPlaylist=a.getPlaylist.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.AddToPlaylist=a.AddToPlaylist.bind(Object(m.a)(a)),a.onDeleteFromPlaylist=a.onDeleteFromPlaylist.bind(Object(m.a)(a)),a.addPlaylistToQueue=a.addPlaylistToQueue.bind(Object(m.a)(a)),a.loadPlaylist=a.loadPlaylist.bind(Object(m.a)(a)),a.playPlaylist=a.playPlaylist.bind(Object(m.a)(a)),a.makePlaylist=a.makePlaylist.bind(Object(m.a)(a)),a.Updateplaylist=a.Updateplaylist.bind(Object(m.a)(a)),a.deletePlaylist=a.deletePlaylist.bind(Object(m.a)(a)),a.UpdateCurrentPlaylist=a.UpdateCurrentPlaylist.bind(Object(m.a)(a)),a.shuffleQueue=a.shuffleQueue.bind(Object(m.a)(a)),a.clearQueue=a.clearQueue.bind(Object(m.a)(a)),a.setQueue=a.setQueue.bind(Object(m.a)(a)),a.setUrl=a.setUrl.bind(Object(m.a)(a)),a.setPlaylist=a.setPlaylist.bind(Object(m.a)(a)),a.setTitle=a.setTitle.bind(Object(m.a)(a)),a.setPlaying=a.setPlaying.bind(Object(m.a)(a)),a.playNext=a.playNext.bind(Object(m.a)(a)),a.state={items:[],queue:[],playlist:[],contentDetails:[],Allplaylists:[],playlists:[],loading:!1,updated:"",url:null,playing:!0,playlistId:"",playlistName:"",error:!1,title:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){he()(this.props,e)||(this.setState({user:this.props.data}),this.props.data&&this.setState({playlists:this.props.data.playlists}))}},{key:"playNext",value:function(e){var t=Object.assign({},e);t.uniqueId=Math.random(),this.state.queue.unshift(t),this.setState({updated:!0}),De.a.notify(r.a.createElement("span",null,e.title," added to in front of the queue."),{duration:800})}},{key:"setPlaying",value:function(e){this.setState({playing:e})}},{key:"setQueue",value:function(e){console.log(this.state.url),this.setState({queue:e}),console.log(this.state.url)}},{key:"isSame",value:function(e,t){for(var a=0;a<e.length;a++)if(e[a].title!==t[a].title)return!1;return!0}},{key:"shuffleQueue",value:function(){for(var e=this.state.queue,t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}this.setState({queue:e})}},{key:"clearQueue",value:function(){"undefined"!==typeof this.state.queue[0]&&this.setState({queue:[]})}},{key:"setPlaylist",value:function(e){this.setState({playlist:e}),console.log(e)}},{key:"componentDidMount",value:function(){var e=ne.currentUserValue;e&&e.token&&this.setState({token:e.token,userName:e.user.name,userRole:e.user.role})}},{key:"componentWillUnmount",value:function(){}},{key:"playPlaylist",value:function(e){for(var t=[],a=0;a<e.length;a++){var n={};0===a?(n.title=e[a].title,n.channelTitle=e[a].channelTitle,n.videoId=e[a].videoId,n.uniqueId=Math.random(),n.duration=e[a].duration,this.onPlay(n)):(n.title=e[a].title,n.channelTitle=e[a].channelTitle,n.videoId=e[a].videoId,n.uniqueId=Math.random(),n.duration=e[a].duration,t.push(n))}this.setState({queue:t}),De.a.notify(r.a.createElement("span",{className:"styled-toast"},"Now playing: ",this.state.playlistName),{duration:1200})}},{key:"addPlaylistToQueue",value:function(e){for(var t=this.state.queue,a=0;a<e.length;a++){var n={};n.title=e[a].title,n.videoId=e[a].videoId,n.channelTitle=e[a].channelTitle,n.duration=e[a].duration,n.uniqueId=Math.random(),t.push(n)}this.setState({queue:t}),De.a.notify(r.a.createElement("span",null,this.state.playlistName," added to the queue!"),{duration:1200})}},{key:"AddToPlaylist",value:function(e){var t=this;console.log(e),""===this.state.playlistId&&""===this.state.playlistName?(alert("No playlist selected. Creating a new playlist.\nGenerating name..."),this.state.playlist.push(e),this.makePlaylist(function(){var e=["abandoned","able","absolute","adorable","adventurous","academic","acceptable","acclaimed","accomplished","accurate","aching","acidic","acrobatic","active","actual","adept","admirable","admired","adolescent","adorable","adored","advanced","afraid","affectionate","aged","aggravating","aggressive","agile","agitated","agonizing","agreeable","ajar","alarmed","alarming","alert","alienated","alive","all","altruistic","amazing","ambitious","ample","amused","amusing","anchored","ancient","angelic","angry","anguished","animated","annual","another","antique","anxious","any","apprehensive","appropriate","apt","arctic","arid","aromatic","artistic","ashamed","assured","astonishing","athletic","attached","attentive","attractive","austere","authentic","authorized","automatic","avaricious","average","aware","awesome","awful","awkward","babyish","bad","back","baggy","bare","barren","basic","beautiful","belated","beloved","beneficial","better","best","bewitched","big","big-hearted","biodegradable","bite-sized","bitter","black","black-and-white","bland","blank","blaring","bleak","blind","blissful","blond","blue","blushing","bogus","boiling","bold","bony","boring","bossy","both","bouncy","bountiful","bowed","brave","breakable","brief","bright","brilliant","brisk","broken","bronze","brown","bruised","bubbly","bulky","bumpy","buoyant","burdensome","burly","bustling","busy","buttery","buzzing","calculating","calm","candid","canine","capital","carefree","careful","careless","caring","cautious","cavernous","celebrated","charming","cheap","cheerful","cheery","chief","chilly","chubby","circular","classic","clean","clear","clear-cut","clever","close","closed","cloudy","clueless","clumsy","cluttered","coarse","cold","colorful","colorless","colossal","comfortable","common","compassionate","competent","complete","complex","complicated","composed","concerned","concrete","confused","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","coordinated","corny","corrupt","costly","courageous","courteous","crafty","crazy","creamy","creative","creepy","criminal","crisp","critical","crooked","crowded","cruel","crushing","cuddly","cultivated","cultured","cumbersome","curly","curvy","cute","cylindrical","damaged","damp","dangerous","dapper","daring","darling","dark","dazzling","dead","deadly","deafening","dear","dearest","decent","decimal","decisive","deep","defenseless","defensive","defiant","deficient","definite","definitive","delayed","delectable","delicious","delightful","delirious","demanding","dense","dental","dependable","dependent","descriptive","deserted","detailed","determined","devoted","different","difficult","digital","diligent","dim","dimpled","dimwitted","direct","disastrous","discrete","disfigured","disgusting","disloyal","dismal","distant","downright","dreary","dirty","disguised","dishonest","dismal","distant","distinct","distorted","dizzy","dopey","doting","double","downright","drab","drafty","dramatic","dreary","droopy","dry","dual","dull","dutiful","each","eager","earnest","early","easy","easy-going","ecstatic","edible","educated","elaborate","elastic","elated","elderly","electric","elegant","elementary","elliptical","embarrassed","embellished","eminent","emotional","empty","enchanted","enchanting","energetic","enlightened","enormous","enraged","entire","envious","equal","equatorial","essential","esteemed","ethical","euphoric","even","evergreen","everlasting","every","evil","exalted","excellent","exemplary","exhausted","excitable","excited","exciting","exotic","expensive","experienced","expert","extraneous","extroverted","extra-large","extra-small","fabulous","failing","faint","fair","faithful","fake","false","familiar","famous","fancy","fantastic","far","faraway","far-flung","far-off","fast","fat","fatal","fatherly","favorable","favorite","fearful","fearless","feisty","feline","female","feminine","few","fickle","filthy","fine","finished","firm","first","firsthand","fitting","fixed","flaky","flamboyant","flashy","flat","flawed","flawless","flickering","flimsy","flippant","flowery","fluffy","fluid","flustered","focused","fond","foolhardy","foolish","forceful","forked","formal","forsaken","forthright","fortunate","fragrant","frail","frank","frayed","free","French","fresh","frequent","friendly","frightened","frightening","frigid","frilly","frizzy","frivolous","front","frosty","frozen","frugal","fruitful","full","fumbling","functional","funny","fussy","fuzzy","gargantuan","gaseous","general","generous","gentle","genuine","giant","giddy","gigantic","gifted","giving","glamorous","glaring","glass","gleaming","gleeful","glistening","glittering","gloomy","glorious","glossy","glum","golden","good","good-natured","gorgeous","graceful","gracious","grand","grandiose","granular","grateful","grave","gray","great","greedy","green","gregarious","grim","grimy","gripping","grizzled","gross","grotesque","grouchy","grounded","growing","growling","grown","grubby","gruesome","grumpy","guilty","gullible","gummy","hairy","half","handmade","handsome","handy","happy","happy-go-lucky","hard","hard-to-find","harmful","harmless","harmonious","harsh","hasty","hateful","haunting","healthy","heartfelt","hearty","heavenly","heavy","hefty","helpful","helpless","hidden","hideous","high","high-level","hilarious","hoarse","hollow","homely","honest","honorable","honored","hopeful","horrible","hospitable","hot","huge","humble","humiliating","humming","humongous","hungry","hurtful","husky","icky","icy","ideal","idealistic","identical","idle","idiotic","idolized","ignorant","ill","illegal","ill-fated","ill-informed","illiterate","illustrious","imaginary","imaginative","immaculate","immaterial","immediate","immense","impassioned","impeccable","impartial","imperfect","imperturbable","impish","impolite","important","impossible","impractical","impressionable","impressive","improbable","impure","inborn","incomparable","incompatible","incomplete","inconsequential","incredible","indelible","inexperienced","indolent","infamous","infantile","infatuated","inferior","infinite","informal","innocent","insecure","insidious","insignificant","insistent","instructive","insubstantial","intelligent","intent","intentional","interesting","internal","international","intrepid","ironclad","irresponsible","irritating","itchy","jaded","jagged","jam-packed","jaunty","jealous","jittery","joint","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbo","junior","jumpy","juvenile","kaleidoscopic","keen","key","kind","kindhearted","kindly","klutzy","knobby","knotty","knowledgeable","knowing","known","kooky","kosher","lame","lanky","large","last","lasting","late","lavish","lawful","lazy","leading","lean","leafy","left","legal","legitimate","light","lighthearted","likable","likely","limited","limp","limping","linear","lined","liquid","little","live","lively","livid","loathsome","lone","lonely","long","long-term","loose","lopsided","lost","loud","lovable","lovely","loving","low","loyal","lucky","lumbering","luminous","lumpy","lustrous","luxurious","mad","made-up","magnificent","majestic","major","male","mammoth","married","marvelous","masculine","massive","mature","meager","mealy","mean","measly","meaty","medical","mediocre","medium","meek","mellow","melodic","memorable","menacing","merry","messy","metallic","mild","milky","mindless","miniature","minor","minty","miserable","miserly","misguided","misty","mixed","modern","modest","moist","monstrous","monthly","monumental","moral","mortified","motherly","motionless","mountainous","muddy","muffled","multicolored","mundane","murky","mushy","musty","muted","mysterious","naive","narrow","nasty","natural","naughty","nautical","near","neat","necessary","needy","negative","neglected","negligible","neighboring","nervous","new","next","nice","nifty","nimble","nippy","nocturnal","noisy","nonstop","normal","notable","noted","noteworthy","novel","noxious","numb","nutritious","nutty","obedient","obese","oblong","oily","oblong","obvious","occasional","odd","oddball","offbeat","offensive","official","old","old-fashioned","only","open","optimal","optimistic","opulent","orange","orderly","organic","ornate","ornery","ordinary","original","other","our","outlying","outgoing","outlandish","outrageous","outstanding","oval","overcooked","overdue","overjoyed","overlooked","palatable","pale","paltry","parallel","parched","partial","passionate","past","pastel","peaceful","peppery","perfect","perfumed","periodic","perky","personal","pertinent","pesky","pessimistic","petty","phony","physical","piercing","pink","pitiful","plain","plaintive","plastic","playful","pleasant","pleased","pleasing","plump","plush","polished","polite","political","pointed","pointless","poised","poor","popular","portly","posh","positive","possible","potable","powerful","powerless","practical","precious","present","prestigious","pretty","precious","previous","pricey","prickly","primary","prime","pristine","private","prize","probable","productive","profitable","profuse","proper","proud","prudent","punctual","pungent","puny","pure","purple","pushy","putrid","puzzled","puzzling","quaint","qualified","quarrelsome","quarterly","queasy","querulous","questionable","quick","quick-witted","quiet","quintessential","quirky","quixotic","quizzical","radiant","ragged","rapid","rare","rash","raw","recent","reckless","rectangular","ready","real","realistic","reasonable","red","reflecting","regal","regular","reliable","relieved","remarkable","remorseful","remote","repentant","required","respectful","responsible","repulsive","revolving","rewarding","rich","rigid","right","ringed","ripe","roasted","robust","rosy","rotating","rotten","rough","round","rowdy","royal","rubbery","rundown","ruddy","rude","runny","rural","rusty","sad","safe","salty","same","sandy","sane","sarcastic","sardonic","satisfied","scaly","scarce","scared","scary","scented","scholarly","scientific","scornful","scratchy","scrawny","second","secondary","second-hand","secret","self-assured","self-reliant","selfish","sentimental","separate","serene","serious","serpentine","several","severe","shabby","shadowy","shady","shallow","shameful","shameless","sharp","shimmering","shiny","shocked","shocking","shoddy","short","short-term","showy","shrill","shy","sick","silent","silky","silly","silver","similar","simple","simplistic","sinful","single","sizzling","skeletal","skinny","sleepy","slight","slim","slimy","slippery","slow","slushy","small","smart","smoggy","smooth","smug","snappy","snarling","sneaky","sniveling","snoopy","sociable","soft","soggy","solid","somber","some","spherical","sophisticated","sore","sorrowful","soulful","soupy","sour","Spanish","sparkling","sparse","specific","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spotted","spry","square","squeaky","squiggly","stable","staid","stained","stale","standard","starchy","stark","starry","steep","sticky","stiff","stimulating","stingy","stormy","straight","strange","steel","strict","strident","striking","striped","strong","studious","stunning","stupendous","stupid","sturdy","stylish","subdued","submissive","substantial","subtle","suburban","sudden","sugary","sunny","super","superb","superficial","superior","supportive","sure-footed","surprised","suspicious","svelte","sweaty","sweet","sweltering","swift","sympathetic","tall","talkative","tame","tan","tangible","tart","tasty","tattered","taut","tedious","teeming","tempting","tender","tense","tepid","terrible","terrific","testy","thankful","that","these","thick","thin","third","thirsty","this","thorough","thorny","those","thoughtful","threadbare","thrifty","thunderous","tidy","tight","timely","tinted","tiny","tired","torn","total","tough","traumatic","treasured","tremendous","tragic","trained","tremendous","triangular","tricky","trifling","trim","trivial","troubled","true","trusting","trustworthy","trusty","truthful","tubby","turbulent","twin","ugly","ultimate","unacceptable","unaware","uncomfortable","uncommon","unconscious","understated","unequaled","uneven","unfinished","unfit","unfolded","unfortunate","unhappy","unhealthy","uniform","unimportant","unique","united","unkempt","unknown","unlawful","unlined","unlucky","unnatural","unpleasant","unrealistic","unripe","unruly","unselfish","unsightly","unsteady","unsung","untidy","untimely","untried","untrue","unused","unusual","unwelcome","unwieldy","unwilling","unwitting","unwritten","upbeat","upright","upset","urban","usable","used","useful","useless","utilized","utter","vacant","vague","vain","valid","valuable","vapid","variable","vast","velvety","venerated","vengeful","verifiable","vibrant","vicious","victorious","vigilant","vigorous","villainous","violet","violent","virtual","virtuous","visible","vital","vivacious","vivid","voluminous","wan","warlike","warm","warmhearted","warped","wary","wasteful","watchful","waterlogged","watery","wavy","wealthy","weak","weary","webbed","wee","weekly","weepy","weighty","weird","welcome","well-documented","well-groomed","well-informed","well-lit","well-made","well-off","well-to-do","well-worn","wet","which","whimsical","whirlwind","whispered","white","whole","whopping","wicked","wide","wide-eyed","wiggly","wild","willing","wilted","winding","windy","winged","wiry","wise","witty","wobbly","woeful","wonderful","wooden","woozy","wordy","worldly","worn","worried","worrisome","worse","worst","worthless","worthwhile","worthy","wrathful","wretched","writhing","wrong","wry","yawning","yearly","yellow","yellowish","young","youthful","yummy","zany","zealous","zesty","zigzag","rocky"],t=["people","history","way","art","world","information","map","family","government","health","system","computer","meat","year","thanks","music","person","reading","method","data","food","understanding","theory","law","bird","literature","problem","software","control","knowledge","power","ability","economics","love","internet","television","science","library","nature","fact","product","idea","temperature","investment","area","society","activity","story","industry","media","thing","oven","community","definition","safety","quality","development","language","management","player","variety","video","week","security","country","exam","movie","organization","equipment","physics","analysis","policy","series","thought","basis","boyfriend","direction","strategy","technology","army","camera","freedom","paper","environment","child","instance","month","truth","marketing","university","writing","article","department","difference","goal","news","audience","fishing","growth","income","marriage","user","combination","failure","meaning","medicine","philosophy","teacher","communication","night","chemistry","disease","disk","energy","nation","road","role","soup","advertising","location","success","addition","apartment","education","math","moment","painting","politics","attention","decision","event","property","shopping","student","wood","competition","distribution","entertainment","office","population","president","unit","category","cigarette","context","introduction","opportunity","performance","driver","flight","length","magazine","newspaper","relationship","teaching","cell","dealer","debate","finding","lake","member","message","phone","scene","appearance","association","concept","customer","death","discussion","housing","inflation","insurance","mood","woman","advice","blood","effort","expression","importance","opinion","payment","reality","responsibility","situation","skill","statement","wealth","application","city","county","depth","estate","foundation","grandmother","heart","perspective","photo","recipe","studio","topic","collection","depression","imagination","passion","percentage","resource","setting","ad","agency","college","connection","criticism","debt","description","memory","patience","secretary","solution","administration","aspect","attitude","director","personality","psychology","recommendation","response","selection","storage","version","alcohol","argument","complaint","contract","emphasis","highway","loss","membership","possession","preparation","steak","union","agreement","cancer","currency","employment","engineering","entry","interaction","limit","mixture","preference","region","republic","seat","tradition","virus","actor","classroom","delivery","device","difficulty","drama","election","engine","football","guidance","hotel","match","owner","priority","protection","suggestion","tension","variation","anxiety","atmosphere","awareness","bread","climate","comparison","confusion","construction","elevator","emotion","employee","employer","guest","height","leadership","mall","manager","operation","recording","respect","sample","transportation","boring","charity","cousin","disaster","editor","efficiency","excitement","extent","feedback","guitar","homework","leader","mom","outcome","permission","presentation","promotion","reflection","refrigerator","resolution","revenue","session","singer","tennis","basket","bonus","cabinet","childhood","church","clothes","coffee","dinner","drawing","hair","hearing","initiative","judgment","lab","measurement","mode","mud","orange","poetry","police","possibility","procedure","queen","ratio","relation","restaurant","satisfaction","sector","signature","significance","song","tooth","town","vehicle","volume","wife","accident","airport","appointment","arrival","assumption","baseball","chapter","committee","conversation","database","enthusiasm","error","explanation","farmer","gate","girl","hall","historian","hospital","injury","instruction","maintenance","manufacturer","meal","perception","pie","poem","presence","proposal","reception","replacement","revolution","river","son","speech","tea","village","warning","winner","worker","writer","assistance","breath","buyer","chest","chocolate","conclusion","contribution","cookie","courage","desk","drawer","establishment","examination","garbage","grocery","honey","impression","improvement","independence","insect","inspection","inspector","king","ladder","menu","penalty","piano","potato","profession","professor","quantity","reaction","requirement","salad","sister","supermarket","tongue","weakness","wedding","affair","ambition","analyst","apple","assignment","assistant","bathroom","bedroom","beer","birthday","celebration","championship","cheek","client","consequence","departure","diamond","dirt","ear","fortune","friendship","funeral","gene","girlfriend","hat","indication","intention","lady","midnight","negotiation","obligation","passenger","pizza","platform","poet","pollution","recognition","reputation","shirt","speaker","stranger","surgery","sympathy","tale","throat","trainer","uncle","youth","time","work","film","water","money","example","while","business","study","game","life","form","air","day","place","number","part","field","fish","back","process","heat","hand","experience","job","book","end","point","type","home","economy","value","body","market","guide","interest","state","radio","course","company","price","size","card","list","mind","trade","line","care","group","risk","word","fat","force","key","light","training","name","school","top","amount","level","order","practice","research","sense","service","piece","web","boss","sport","fun","house","page","term","test","answer","sound","focus","matter","kind","soil","board","oil","picture","access","garden","range","rate","reason","future","site","demand","exercise","image","case","cause","coast","action","age","bad","boat","record","result","section","building","mouse","cash","class","period","plan","store","tax","side","subject","space","rule","stock","weather","chance","figure","man","model","source","beginning","earth","program","chicken","design","feature","head","material","purpose","question","rock","salt","act","birth","car","dog","object","scale","sun","note","profit","rent","speed","style","war","bank","craft","half","inside","outside","standard","bus","exchange","eye","fire","position","pressure","stress","advantage","benefit","box","frame","issue","step","cycle","face","item","metal","paint","review","room","screen","structure","view","account","ball","discipline","medium","share","balance","bit","black","bottom","choice","gift","impact","machine","shape","tool","wind","address","average","career","culture","morning","pot","sign","table","task","condition","contact","credit","egg","hope","ice","network","north","square","attempt","date","effect","link","post","star","voice","capital","challenge","friend","self","shot","brush","couple","exit","front","function","lack","living","plant","plastic","spot","summer","taste","theme","track","wing","brain","button","click","desire","foot","gas","influence","notice","rain","wall","base","damage","distance","feeling","pair","savings","staff","sugar","target","text","animal","author","budget","discount","file","ground","lesson","minute","officer","phase","reference","register","sky","stage","stick","title","trouble","bowl","bridge","campaign","character","club","edge","evidence","fan","letter","lock","maximum","novel","option","pack","park","quarter","skin","sort","weight","baby","background","carry","dish","factor","fruit","glass","joint","master","muscle","red","strength","traffic","trip","vegetable","appeal","chart","gear","ideal","kitchen","land","log","mother","net","party","principle","relative","sale","season","signal","spirit","street","tree","wave","belt","bench","commission","copy","drop","minimum","path","progress","project","sea","south","status","stuff","ticket","tour","angle","blue","breakfast","confidence","daughter","degree","doctor","dot","dream","duty","essay","father","fee","finance","hour","juice","luck","milk","mouth","peace","pipe","stable","storm","substance","team","trick","afternoon","bat","beach","blank","catch","chain","consideration","cream","crew","detail","gold","interview","kid","mark","mission","pain","pleasure","score","screw","sex","shop","shower","suit","tone","window","agent","band","bath","block","bone","calendar","candidate","cap","coat","contest","corner","court","cup","district","door","east","finger","garage","guarantee","hole","hook","implement","layer","lecture","lie","manner","meeting","nose","parking","partner","profile","rice","routine","schedule","swimming","telephone","tip","winter","airline","bag","battle","bed","bill","bother","cake","code","curve","designer","dimension","dress","ease","emergency","evening","extension","farm","fight","gap","grade","holiday","horror","horse","host","husband","loan","mistake","mountain","nail","noise","occasion","package","patient","pause","phrase","proof","race","relief","sand","sentence","shoulder","smoke","stomach","string","tourist","towel","vacation","west","wheel","wine","arm","aside","associate","bet","blow","border","branch","breast","brother","buddy","bunch","chip","coach","cross","document","draft","dust","expert","floor","god","golf","habit","iron","judge","knife","landscape","league","mail","mess","native","opening","parent","pattern","pin","pool","pound","request","salary","shame","shelter","shoe","silver","tackle","tank","trust","assist","bake","bar","bell","bike","blame","boy","brick","chair","closet","clue","collar","comment","conference","devil","diet","fear","fuel","glove","jacket","lunch","monitor","mortgage","nurse","pace","panic","peak","plane","reward","row","sandwich","shock","spite","spray","surprise","till","transition","weekend","welcome","yard","alarm","bend","bicycle","bite","blind","bottle","cable","candle","clerk","cloud","concert","counter","flower","grandfather","harm","knee","lawyer","leather","load","mirror","neck","pension","plate","purple","ruin","ship","skirt","slice","snow","specialist","stroke","switch","trash","tune","zone","anger","award","bid","bitter","boot","bug","camp","candy","carpet","cat","champion","channel","clock","comfort","cow","crack","engineer","entrance","fault","grass","guy","hell","highlight","incident","island","joke","jury","leg","lip","mate","motor","nerve","passage","pen","pride","priest","prize","promise","resident","resort","ring","roof","rope","sail","scheme","script","sock","station","toe","tower","truck","witness","can","will","other","use","make","good","look","help","go","great","being","still","public","read","keep","start","give","human","local","general","specific","long","play","feel","high","put","common","set","change","simple","past","big","possible","particular","major","personal","current","national","cut","natural","physical","show","try","check","second","call","move","pay","let","increase","single","individual","turn","ask","buy","guard","hold","main","offer","potential","professional","international","travel","cook","alternative","special","working","whole","dance","excuse","cold","commercial","low","purchase","deal","primary","worth","fall","necessary","positive","produce","search","present","spend","talk","creative","tell","cost","drive","green","support","glad","remove","return","run","complex","due","effective","middle","regular","reserve","independent","leave","original","reach","rest","serve","watch","beautiful","charge","active","break","negative","safe","stay","visit","visual","affect","cover","report","rise","walk","white","junior","pick","unique","classic","final","lift","mix","private","stop","teach","western","concern","familiar","fly","official","broad","comfortable","gain","rich","save","stand","young","heavy","lead","listen","valuable","worry","handle","leading","meet","release","sell","finish","normal","press","ride","secret","spread","spring","tough","wait","brown","deep","display","flow","hit","objective","shoot","touch","cancel","chemical","cry","dump","extreme","push","conflict","eat","fill","formal","jump","kick","opposite","pass","pitch","remote","total","treat","vast","abuse","beat","burn","deposit","print","raise","sleep","somewhere","advance","consist","dark","double","draw","equal","fix","hire","internal","join","kill","sensitive","tap","win","attack","claim","constant","drag","drink","guess","minor","pull","raw","soft","solid","wear","weird","wonder","annual","count","dead","doubt","feed","forever","impress","repeat","round","sing","slide","strip","wish","combine","command","dig","divide","equivalent","hang","hunt","initial","march","mention","spiritual","survey","tie","adult","brief","crazy","escape","gather","hate","prior","repair","rough","sad","scratch","sick","strike","employ","external","hurt","illegal","laugh","lay","mobile","nasty","ordinary","respond","royal","senior","split","strain","struggle","swim","train","upper","wash","yellow","convert","crash","dependent","fold","funny","grab","hide","miss","permit","quote","recover","resolve","roll","sink","slip","spare","suspect","sweet","swing","twist","upstairs","usual","abroad","brave","calm","concentrate","estimate","grand","male","mine","prompt","quiet","refuse","regret","reveal","rush","shake","shift","shine","steal","suck","surround","bear","brilliant","dare","dear","delay","drunk","female","hurry","inevitable","invite","kiss","neat","pop","punch","quit","reply","representative","resist","rip","rub","silly","smile","spell","stretch","stupid","tear","temporary","tomorrow","wake","wrap","yesterday","Thomas","Tom","Lieuwe"];return e[it(e.length-1,0)]+" "+t[it(t.length-1,0)]}(),this.state.playlist,!0),this.setState({updated:e}),setTimeout((function(){return t.Updateplaylist(t.state.playlistName,t.state.playlistId,t.state.private)}),100),De.a.notify(r.a.createElement("span",null,e.title," added to the playlist."),{duration:750})):(this.state.playlist.push(e),this.Updateplaylist(this.state.playlistName,this.state.playlistId,this.state.private),this.setState({updated:e}),De.a.notify(r.a.createElement("span",null,e.title," added to the playlist."),{duration:750}))}},{key:"onDeleteFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.playlist[0]){for(var t=0;t<this.state.playlist.length;t++)if(this.state.playlist[t].uniqueId===e.uniqueId){this.state.playlist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"handleSubmit",value:function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.setState({loading:!0}),a.next=3,o.a.awrap(F(e));case 3:if(t=a.sent,console.log(t),null!==t){a.next=8;break}return this.setState({error:!0}),a.abrupt("return");case 8:this.setState({items:t,loading:!1});case 9:case"end":return a.stop()}}),null,this)}},{key:"handleSubmit2",value:function(e){var t,a,n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return this.setState({loading:!0}),r.next=3,o.a.awrap(F(e));case 3:if(null!==(t=r.sent)){r.next=7;break}return this.setState({error:!0}),r.abrupt("return");case 7:return a=[],t.map((function(e){return a.push(e.id.videoId)})),a=a.join(","),r.next=12,o.a.awrap(z(a));case 12:n=r.sent,this.setState({items:t,contentDetails:n,loading:!1});case 14:case"end":return r.stop()}}),null,this)}},{key:"loadPlaylist",value:function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(K(e));case 2:return t=a.sent,this.setState({playlist:t.data.playlist,playlistName:t.data.name,playlistId:t.data._id,loading:!1,private:t.data.private,playlistOwner:t.data.owner}),a.abrupt("return","OK");case 5:case"end":return a.stop()}}),null,this)}},{key:"getPlaylist",value:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.loadUser();case 1:case"end":return e.stop()}}),null,this)}},{key:"makePlaylist",value:function(e,t,a,n){var r,s,i;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return this.setState({playlist:t}),r=JSON.stringify({name:e,playlist:t,isPrivate:a,owner:this.state.userName,genre:n}),l.next=4,o.a.awrap(J(r));case 4:s=l.sent,i=s.data,console.log(s),X(i._id,i.name,i.private,i.owner,i.createdAt,this.state.token),this.setState({playlistId:s.data._id,playlistName:s.data.name,private:a});case 9:case"end":return l.stop()}}),null,this)}},{key:"UpdateCurrentPlaylist",value:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.Updateplaylist(this.state.playlistName,this.state.playlistId,this.state.private);case 1:case"end":return e.stop()}}),null,this)}},{key:"Updateplaylist",value:function(e,t,a){var n,r,s;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.state.playlist,console.log(a),r=JSON.stringify({name:e,playlist:n,private:a}),i.next=5,o.a.awrap(W(r,t));case 5:s=i.sent,$(t,e,a,this.state.token),this.setState({playlistName:s.data.name,playlist:n});case 8:case"end":return i.stop()}}),null,this)}},{key:"deletePlaylist",value:function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:this.state.playlistId===e&&this.setState({playlistId:"",playlistName:"",playlist:[]}),t=0;case 2:if(!(t<this.state.playlists.length)){a.next=9;break}if(this.state.playlists[t]._id!==e){a.next=6;break}return this.state.playlists.splice(t,1),a.abrupt("break",9);case 6:t++,a.next=2;break;case 9:return this.setState({updated:!0}),a.next=12,o.a.awrap(Z(e,this.state.token));case 12:return a.next=14,o.a.awrap(lt(3e4));case 14:this.getPlaylist();case 15:case"end":return a.stop()}}),null,this)}},{key:"onAdd",value:function(e){var t=Object.assign({},e);t.uniqueId=Math.random(),this.state.queue.push(t),this.setState({updated:t}),De.a.notify(r.a.createElement("span",null,e.title," added to the queue."),{duration:800})}},{key:"onDelete",value:function(e){if(e&&"undefined"!==typeof this.state.queue[0]){for(var t=0;t<this.state.queue.length;t++)if(this.state.queue[t].uniqueId===e.uniqueId){this.state.queue.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"setUrl",value:function(e){this.setState({url:e,playing:!0})}},{key:"onPlay",value:function(e){if(e){console.log(e);var t=e.videoId,a=e.title,n="https://www.youtube.com/watch?v="+t;n===this.state.url&&this.player.seekTo0(),this.setState({url:n,playing:!0,updated:!0,title:a}),De.a.notify(r.a.createElement("span",null,"Now playing: ",a),{duration:1200,position:"bottom"})}}},{key:"setTitle",value:function(e){this.setState({title:e})}},{key:"render",value:function(){var e=this.state.queue,t=this.state.url,a=this.state.playlists,n=this.state.playlist;return console.log(this.state.playlists),r.a.createElement("div",{className:["Rex Orange County - Sunflower","...more songs "].includes(this.state.title)?"homepage-div2":"homepage-div"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement(se.a,null,r.a.createElement(ie.a,{sm:"4",className:"homepage1"},r.a.createElement("br",null),r.a.createElement(Je,{ref:this.ref,array:e,onRemove:this.onDelete,url:t,playing:this.state.playing,title:this.state.title,onAdd:this.onAdd,AddToPlaylist:this.AddToPlaylist,onPlay:this.onPlay,setUrl:this.setUrl,setTitle:this.setTitle,setPlaying:this.setPlaying}),r.a.createElement(Ue,{queue:e,onRemove:this.onDelete,onPlay:this.onPlay,shuffleQueue:this.shuffleQueue,clearQueue:this.clearQueue,setQueue:this.setQueue})),r.a.createElement(ie.a,{sm:"4",className:"homepage2"},r.a.createElement("br",null),r.a.createElement(st,{playNext:this.playNext,userName:this.state.userName,userRole:this.state.userRole,playlists:a,playlistOwner:this.state.playlistOwner,isPrivate:this.state.private,playlist:n,playlistName:this.state.playlistName,playlistId:this.state.playlistId,getPlayList:this.getPlaylist,loadPlaylist:this.loadPlaylist,onDeleteFromPlaylist:this.onDeleteFromPlaylist,onPlay:this.onPlay,addPlaylistToQueue:this.addPlaylistToQueue,onRemove:this.onDelete,playPlaylist:this.playPlaylist,makePlaylist:this.makePlaylist,Updateplaylist:this.Updateplaylist,deletePlaylist:this.deletePlaylist,onAdd:this.onAdd,UpdateCurrentPlaylist:this.UpdateCurrentPlaylist,setPlaylist:this.setPlaylist})),r.a.createElement(ie.a,{sm:"4",className:"homepage3"},r.a.createElement("br",null),r.a.createElement(we,{handleSubmit:this.handleSubmit}),r.a.createElement("hr",null),r.a.createElement(be,{playNext:this.playNext,loading:this.state.loading,items:this.state.items,onAdd:this.onAdd,onPlay:this.onPlay,AddToPlaylist:this.AddToPlaylist,error:this.state.error})))))}}]),t}(n.Component),ct=(a(483),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),ut=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onChange=function(e){a.setState(Object(Me.a)({},e.target.name,e.target.value))},a.togglePanel=function(){a.setState({active:!a.state.active})},a.signUpSubmit=function(e){e.preventDefault();var t=a.state,n={signUpName:t.signUpName,signUpEmail:t.signUpEmail,signUpPassword:t.signUpPassword,role:"User"};a.signUp(n)},a.signInSubmit=function(e){e.preventDefault(),a.login(a.state.email,a.state.password)},a.state={active:!1,error:"",SignUpError:""},ne.currentUserValue&&a.props.history.push("/"),a.login=a.login.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"login",value:function(e,t){var a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return this.setState({loading:!0}),n.next=3,o.a.awrap(ct(1500));case 3:return n.next=5,o.a.awrap(ne.login(e,t));case 5:a=n.sent,this.setState({loading:!1}),a?this.setState({error:a}):this.props.history.push("/");case 8:case"end":return n.stop()}}),null,this)}},{key:"signUp",value:function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return this.setState({loading:!0}),n.next=3,o.a.awrap(ct(1500));case 3:return n.next=5,o.a.awrap(ne.signup(e));case 5:t=n.sent,this.setState({loading:!1}),t||this.props.history.push("/"),t&&t.data.error[0]&&(a=t.data.error[0],this.setState({SignUpError:a.name||a.email||a.password||t.data.error}));case 9:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",{className:this.state.active?"ss right-panel-active":"ss"},r.a.createElement("h1",{className:"position"},"WELCOME TO TUBEMUSIC"),r.a.createElement(Pe.a,{id:"login-container"},r.a.createElement(Pe.a,{className:"form-container sign-up-container"},r.a.createElement(Xe.a,{onSubmit:this.signUpSubmit},r.a.createElement("h1",null,"Create an account"),r.a.createElement("br",null),this.state.SignUpError?r.a.createElement("div",{className:"error2"},this.state.SignUpError):r.a.createElement("span",{className:"span2"},"Please fill in the form to create a new account!"),r.a.createElement("br",null),r.a.createElement(Re.a,null,r.a.createElement(Ee.a,{name:"signUpName",autoComplete:"username",type:"text",placeholder:"Name",onChange:this.onChange,required:!0})),r.a.createElement(Re.a,null,r.a.createElement(Ee.a,{name:"signUpEmail",type:"email",autoComplete:"email",placeholder:"Email",onChange:this.onChange,required:!0})),r.a.createElement(Re.a,null,r.a.createElement(Ee.a,{name:"signUpPassword",type:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.onChange,required:!0})),r.a.createElement("div",null,r.a.createElement("button",{className:this.state.loading?"loading":""},this.state.loading?"Loading...":"Sign up"),this.state.loading?r.a.createElement("div",{className:"spin"}):""))),r.a.createElement(Pe.a,{className:"form-container sign-in-container"},r.a.createElement(Xe.a,{onSubmit:this.signInSubmit},r.a.createElement("h1",null,"Sign in"),r.a.createElement("br",null),this.state.error?r.a.createElement("div",{className:"error"},this.state.error):r.a.createElement("span",{className:"span2"},"Please login using your email and password!"),r.a.createElement("br",null),r.a.createElement(Re.a,null,r.a.createElement(Ee.a,{name:"email",id:"email",type:"email",placeholder:"Email",autoComplete:"username",onChange:this.onChange,required:!0})),r.a.createElement(Re.a,null,r.a.createElement(Ee.a,{name:"password",id:"password",type:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.onChange,required:!0})),r.a.createElement("a",{href:"# "},"Forgot your password?"),r.a.createElement("div",null,r.a.createElement("button",{className:this.state.loading?"loading":""},this.state.loading?"Signing in...":"Sign in"),this.state.loading?r.a.createElement("div",{className:"spin"}):""))),r.a.createElement("div",{className:"overlay-container"},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"overlay-panel overlay-left"},r.a.createElement("h1",null,"Already have an account?"),r.a.createElement("p",null,"To keep connected with us please login with your personal info"),r.a.createElement("button",{onClick:this.togglePanel,className:"ghost",id:"signIn"},"Sign In")),r.a.createElement("div",{className:"overlay-panel overlay-right"},r.a.createElement("h1",null,"Don't have an account yet?"),r.a.createElement("p",null,"No worries! Enter your personal details and start listening to music with us."),r.a.createElement("button",{onClick:this.togglePanel,className:"ghost",id:"signUp"},"Sign Up"))))))}}]),t}(n.Component),dt=a(45),pt=a(516),mt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={artistName:a.props.artistName,title:a.props.title,imported:a.props.imported},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"addToImport",value:function(e){this.props.addToImport(e)}},{key:"removeFromPlaylist",value:function(e){this.props.removeFromPlaylist(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(le.a,{className:"card"},r.a.createElement(oe.a,null,r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"4",sm:"4"},r.a.createElement(ue.a,null,this.state.title)),r.a.createElement(ie.a,{xs:"4",sm:"4"},r.a.createElement(ue.a,{className:"float-left"},this.state.artistName)),r.a.createElement(ie.a,{xs:"2",sm:"2"},this.props.createdAt),r.a.createElement(ie.a,{xs:"2",sm:"2"},this.state.imported?r.a.createElement(ce.a,{onClick:this.removeFromPlaylist.bind(this,this.props),className:"btn btn-primary",color:"danger"},"x"):r.a.createElement(ce.a,{onClick:this.addToImport.bind(this,this.props),className:"btn btn-primary",color:"primary"},"+"))))))}}]),t}(n.Component),ht=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).renderRow=function(e){var t=e.index,n=(e.key,e.isScrolling,e.isVisible,e.style),s=a.props.tracks[t],i=s.title,l=s.artistName,o=s.id,c=s.createdAt;return r.a.createElement("div",{key:Math.random(),style:n},r.a.createElement(mt,{id:Math.random(),key:o,artistName:l,addToImport:a.props.addToImport,imported:!1,title:i,createdAt:c}))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(xe.a,null,(function(t){var a=t.width;return r.a.createElement(xe.c,{width:a,height:550,rowCount:e.props.tracks.length,rowHeight:80,rowRenderer:e.renderRow})})))}}]),t}(n.Component),yt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderRow=function(e){var t=e.index,n=(e.key,e.isScrolling,e.isVisible,e.style),s=a.props.toBeImportedPlaylist[t],i=s.title,l=s.artistName,o=s.id;return r.a.createElement("div",{key:o,style:n},r.a.createElement(mt,{key:o,id:o,artistName:l,importPlaylistToApp:a.props.importPlaylistToApp,removeFromPlaylist:a.removeFromPlaylist,imported:!0,title:i}))},a.state={toBeImportedPlaylist:a.props.toBeImportedPlaylist,updated:""},a.removeFromPlaylist=a.removeFromPlaylist.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({toBeImportedPlaylist:this.props.toBeImportedPlaylist})}},{key:"removeFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.toBeImportedPlaylist[0]){for(var t=0;t<this.state.toBeImportedPlaylist.length;t++)if(this.state.toBeImportedPlaylist[t].id===e.id){this.state.toBeImportedPlaylist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,this.props.toBeImportedPlaylist.length," songs in the list."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.a,null,(function(t){var a=t.width;return r.a.createElement(xe.c,{width:a,height:550,rowCount:e.props.toBeImportedPlaylist.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),t}(n.Component),ft=(a(484),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),gt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState({filter:e.target.value})},a.state={modal:a.props,description:a.props.description,imageUrl:a.props.imageUrl,name:a.props.name,id:a.props.id,key:a.props.id,trackRef:a.props.trackRef,totalTracks:a.props.totalTracks,ownerName:a.props.ownerName,chosenListsTracks:a.props.chosenListsTracks,toBeImportedPlaylist:[],importCount:0,loading:!1,imported:!1,progressValue:0,notFoundArray:[],filter:""},a.importPlaylistToApp=a.importPlaylistToApp.bind(Object(m.a)(a)),a.removeFromPlaylist=a.removeFromPlaylist.bind(Object(m.a)(a)),a.addToImport=a.addToImport.bind(Object(m.a)(a)),a.toggle=a.toggle.bind(Object(m.a)(a)),a.moveAllToImport=a.moveAllToImport.bind(Object(m.a)(a)),a.clearList=a.clearList.bind(Object(m.a)(a)),a.webScrape=a.webScrape.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=ne.currentUserValue;e&&this.setState({token:e.token,userName:e.user.name})}},{key:"webScrape",value:function(){var e,t,a,n,r,s,i,l,c,u;return o.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(!(this.state.toBeImportedPlaylist.length<1)){d.next=2;break}return d.abrupt("return");case 2:this.setState({loading:!0,progressValue:0,importCount:0}),e=[],t=this.state.toBeImportedPlaylist,a=this.state.toBeImportedPlaylist.length,n=1/a*100,r=50,s=0;case 9:if(!(a>s)){d.next=18;break}return d.next=12,o.a.awrap(B(t.slice(s,s+r)));case 12:d.sent.forEach((function(t){e.push(t)})),this.setState({progressValue:n*e.length,importCount:e.filter((function(e){return null!==e})).length}),s+=r,d.next=9;break;case 18:return d.next=20,o.a.awrap(ft(6500));case 20:if(!(e.length>0)){d.next=34;break}if(i=this.state.name,l=e.filter((function(e){return null!==e})),c=JSON.stringify({name:i,playlist:l,isPrivate:!0,owner:this.state.userName}),!(l.length>0)){d.next=32;break}return d.next=27,o.a.awrap(J(c));case 27:u=d.sent,X(u.data._id,u.data.name,u.data.private,u.data.owner,u.data.createdAt,this.state.token),200===u.status?this.setState({imported:!0,loading:!1}):(this.setState({imported:!1}),alert("Error making creating the playlist.")),d.next=34;break;case 32:this.setState({imported:!1}),alert("No songs were found.");case 34:case"end":return d.stop()}}),null,this)}},{key:"clearList",value:function(){this.setState({toBeImportedPlaylist:[]})}},{key:"moveAllToImport",value:function(e){var t=this;e.forEach((function(e){return t.addToImport(e)}))}},{key:"toggle",value:function(){this.setState({toBeImportedPlaylist:[]}),this.props.toggle()}},{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({modal:this.props,description:this.props.description,imageUrl:this.props.imageUrl,name:this.props.name,id:this.props.id,key:this.props.id,trackRef:this.props.trackRef,totalTracks:this.props.totalTracks,ownerName:this.props.ownerName,chosenListsTracks:this.props.chosenListsTracks,imported:!1,progressValue:0,importCount:0})}},{key:"makePlaylist",value:function(e,t){var a,n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=JSON.stringify({name:e,playlist:t}),r.next=3,o.a.awrap(J(a));case 3:n=r.sent,this.setState({playlistId:n.data._id,playlistName:n.data.name,playlist:t});case 5:case"end":return r.stop()}}),null,this)}},{key:"importPlaylistToApp",value:function(){var e,t,a,n,r,s,i,l,c,u,d,p,m,h;return o.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:this.setState({loading:!0,progressValue:0,importCount:0}),e=this.state.toBeImportedPlaylist.length,t=1/e*100,a=[],n=this.state.toBeImportedPlaylist,r=0;case 6:if(!(r<n.length)){y.next=32;break}return s=n[r].artistName,i=n[r].title,l=i+" "+s,y.next=12,o.a.awrap(M(l));case 12:if(null!==(c=y.sent)){y.next=16;break}return this.setState({loading:!1,error:!0}),y.abrupt("return");case 16:return(u={}).videoId=c[0].id.videoId,u.title=c[0].snippet.title,u.publishedAt=c[0].snippet.publishedAt,u.description=c[0].snippet.description,u.channelTitle=c[0].snippet.channelTitle,y.next=24,o.a.awrap(z(c[0].id.videoId));case 24:d=y.sent,u.duration=d[0].contentDetails.duration,u.uniqueId=Math.random(),a.push(u),this.setState({progressValue:this.state.progressValue+t});case 29:r++,y.next=6;break;case 32:return p=this.state.name,m=JSON.stringify({name:p,playlist:a}),y.next=36,o.a.awrap(J(m));case 36:h=y.sent,this.setState({loading:!1,progressValue:0,importCount:0}),200===h.status?this.setState({imported:!0}):(this.setState({imported:!1}),alert("Error"));case 39:case"end":return y.stop()}}),null,this)}},{key:"removeFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.toBeImportedPlaylist[0]){for(var t=0;t<this.state.toBeImportedPlaylist.length;t++)if(this.state.toBeImportedPlaylist[t].id===e.id){this.state.toBeImportedPlaylist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"addToImport",value:function(e){var t={};t.artistName=e.artistName,t.title=e.title,t.id=Math.random(),this.state.toBeImportedPlaylist.push(t),this.setState({updated:!0})}},{key:"render",value:function(){var e=this.state.chosenListsTracks,t=this.state.filter,a=t.toLowerCase(),n=e.filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&"id"!==t&&e[t].toLowerCase().includes(a)}))}));return r.a.createElement("div",null,r.a.createElement(ze.a,{isOpen:this.props.isOpen,toggle:this.props.toggle,size:"lg",style:{maxWidth:"1600px",width:"100%",margin:"10px auto"}},r.a.createElement(Qe.a,{className:"mb-4",toggle:this.props.toggle},r.a.createElement("span",null,"Songs in the playlist ",r.a.createElement("br",null),r.a.createElement("i",null,this.state.name)),r.a.createElement("span",{className:"inthemiddle"},"Playlist importer")),r.a.createElement(_e.a,null,r.a.createElement("span",null,"I recommend using webScraping for retrieving songs from YouTube."),this.state.notFoundArray.length>1?r.a.createElement("div",{id:"notFoundArray"},r.a.createElement("h3",null,"Following songs were not found:",r.a.createElement("br",null),r.a.createElement("br",null)),this.state.notFoundArray.map((function(e){var t=e.title,a=e.artistName;return r.a.createElement("span",{id:"notFoundItem",key:t},r.a.createElement("p",null,t)," by ",r.a.createElement("p",null,a," "),r.a.createElement("br",null))}))):"",this.state.error?r.a.createElement("div",null,r.a.createElement("span",{id:"errorImport"},"Daily limit exdeeded. Try again tomorrow.")):"",this.state.imported?r.a.createElement("span",{id:"successImport"},"Succesfully created the playlist!"):"",this.state.loading?r.a.createElement("div",{id:"LoadingSpot"},r.a.createElement("h2",{className:"loadingTitle"},"Importing songs"),r.a.createElement("div",{id:"spinner"},r.a.createElement(ge,{size:35,color:"#17a2b8"})),r.a.createElement("span",{className:"importedNumbers",id:"creatingInfo"},this.state.progressValue<100?"Importing songs...":"Creating playlist..."),r.a.createElement("span",{className:"importedNumbers"},this.state.importCount," /"," ",this.state.toBeImportedPlaylist.length," songs imported."),r.a.createElement("span",{className:"importedNumbers",id:"creatingInfo2"},this.state.progressValue>99&this.state.toBeImportedPlaylist.length!==this.state.importCount?"Unfortunately we were unable to import all of the songs":""),r.a.createElement("div",{id:"progressbar"},r.a.createElement(pt.a,{animated:!0,color:"info",value:this.state.progressValue})),r.a.createElement("span",{className:"loadingInfo"},"Fetching songs from YouTube and adding them to our database... This might take awhile.")):"",r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement(yt,{importPlaylistToApp:this.importPlaylistToApp,removeFromPlaylist:this.removeFromPlaylist,toBeImportedPlaylist:this.state.toBeImportedPlaylist}))),r.a.createElement(ie.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement("p",null,n.length," songs"),r.a.createElement("span",{className:"float-right filterSpan"},"By ",this.props.ownerName),r.a.createElement("br",null),r.a.createElement(Ee.a,{value:t,onChange:this.handleChange,placeholder:"Filter songs based on artist, album or title..."}),r.a.createElement("br",null),r.a.createElement(ht,{ownerName:this.state.ownerName,totalTracks:this.state.totalTracks,tracks:n,addToImport:this.addToImport})))),r.a.createElement(se.a,{id:"lowerRow"},r.a.createElement(ie.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ce.a,{disabled:!0,onClick:this.importPlaylistToApp},"Import playlist"))),r.a.createElement(ie.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ce.a,{disabled:!(!this.state.loading&&this.state.toBeImportedPlaylist[0]),onClick:this.clearList},"Clear list"))),r.a.createElement(ie.a,{xs:"4",sm:"4"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ce.a,{disabled:this.state.loading,onClick:this.moveAllToImport.bind(this,n)},"Get all songs"))),r.a.createElement(ie.a,{xs:"4",sm:"4"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ce.a,{disabled:!(!this.state.loading&&this.state.toBeImportedPlaylist[0]),onClick:this.webScrape},"use webScraping"))))),r.a.createElement(ce.a,{onClick:this.toggle,className:"btn btn-primary"},"Cancel")))}}]),t}(n.Component),bt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).toggleList=function(){a.setState({modal:!a.state.modal})},a.toggle=function(){a.setState({modal:!a.state.modal})},a.state={modal:!1,description:a.props.description,imageUrl:a.props.imageUrl,name:a.props.name,id:a.props.id,key:a.props.id,trackRef:a.props.trackRef,totalTracks:a.props.totalTracks,ownerName:a.props.ownerName,token:a.props.token,chosenListsTracks:[],loading:!1},a.toggle=a.toggle.bind(Object(m.a)(a)),a.clickOnPlayList=a.clickOnPlayList.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"clickOnPlayList",value:function(){var e,t,a,n,r,s,i,l,c,u,d,p;return o.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return this.setState({loading:!0}),e=this.state.token,m.next=4,o.a.awrap(V(this.state.id,e));case 4:t=m.sent,a=[],n=null,a=t.items,console.log(a);case 9:if(null===t.next||"undefined"===typeof t.next){m.next=19;break}return m.next=12,o.a.awrap(H(e,t.next));case 12:if(n=m.sent,a=a.concat(n.items),null!==n.next){m.next=16;break}return m.abrupt("break",19);case 16:t.next=n.next,m.next=9;break;case 19:for(r=[],s=[],i=[],l=[],c=[],u=[],a.forEach((function(e){return r.push(e.track.name)})),a.forEach((function(e){return s.push(e.track.artists)})),a.forEach((function(e){return l.push(e.track.id)})),a.forEach((function(e){return c.push(e.track.album.name)})),a.forEach((function(e){return u.push(e.added_at)})),d=0;d<s.length;d++)(p={}).artistName=s[d][0].name,"undefined"!==typeof s[d][1]&&(p.artistName=p.artistName.concat(" & "+s[d][1].name)),p.title=r[d],p.id=l[d],p.album=c[d],p.createdAt=u[d],i.push(p);this.setState({loading:!1,chosenListsTracks:i}),this.toggleList(i);case 33:case"end":return m.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,this.state.loading?r.a.createElement(ge,null):""),r.a.createElement("a",{style:{cursor:"pointer"},onClick:this.clickOnPlayList.bind(this,this.state)},r.a.createElement(le.a,{className:"card"},r.a.createElement(oe.a,null,r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"1",sm:"1"}),r.a.createElement(ie.a,{xs:"8",sm:"8"},r.a.createElement(ue.a,null,this.props.name)),r.a.createElement(ie.a,{xs:"3",sm:"3"},r.a.createElement("small",null,this.props.totalTracks," songs"))),r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"6",sm:"6"},r.a.createElement("small",{className:"float-left"},"By ",this.props.ownerName)))))),r.a.createElement(gt,{isOpen:this.state.modal,toggle:this.toggle,description:this.state.description,imageUrl:this.state.imageUrl,name:this.state.name,id:this.state.id,key:this.state.id,trackRef:this.state.trackRef,totalTracks:this.state.totalTracks,ownerName:this.state.ownerName,chosenListsTracks:this.state.chosenListsTracks}))}}]),t}(n.Component),vt=(a(485),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onSortChange=function(e){var t,n=e.target.value,r=Object(dt.a)(a.state.userPlaylists);switch(console.log(r),n){case"Latest":t=r;break;case"Last":t=r.sort((function(e,t){return e<t?1:-1}));break;case"By name":t=r.sort((function(e,t){return e.name>t.name?1:-1}));break;case"By owner":t=r.sort((function(e,t){return e.ownerName>t.ownerName?1:-1}))}console.log("Yeps..."),a.setState({sortedPlaylists:t})},a.handleChange=function(e){var t=a.state.userPlaylists,n=e.target.value.toLowerCase(),r=t.filter((function(e){return null===e||"undefined"===typeof e?t:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"imageUrl"!==t&&"description"!==t&&"trackRef"!==t&&e[t].toLowerCase().includes(n)}))}));console.log(r),a.setState({filter:e.target.value,filteredData:r})},a.state={loading:a.props.loading,userPlaylists:[],sortedPlaylists:[],filteredData:[],filter:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({loading:this.props.loading,userPlaylists:this.props.Userplaylists,filteredData:this.props.Userplaylists,sortedPlaylists:this.props.Userplaylists})}},{key:"render",value:function(){var e=this,t=this.state,a=t.filteredData,n=t.filter,s=t.sortedPlaylists.filter((function(e){return-1!==a.indexOf(e)}));return r.a.createElement("div",null,r.a.createElement("p",null,"Click on a playlist to see what songs there are, and to choose which songs will be imported."),r.a.createElement("div",{className:"inputDiv"},r.a.createElement(Ee.a,{id:"filterId",value:n,onChange:this.handleChange,placeholder:"Filter playlists..."}),r.a.createElement(Ee.a,{onChange:this.onSortChange,type:"select",name:"select",id:"exampleSelect"},r.a.createElement("option",{key:"Latest",value:"Latest"},"Latest"),r.a.createElement("option",{key:"Last",value:"Last"},"Last"),r.a.createElement("option",{key:"By name",value:"By name"},"By name"),r.a.createElement("option",{key:"By owner",value:"By owner"},"By owner"))),r.a.createElement("div",{id:s.length>0?"spotifyPlaylist":"template"},this.state.loading?r.a.createElement("div",{className:"loadingPlace"},r.a.createElement(ge,null)):r.a.createElement("div",null,s.map((function(t){var a=t.id,n=t.name,s=t.description,i=t.imageUrl,l=t.trackRef,o=t.totalTracks,c=t.ownerName;return r.a.createElement(bt,{description:s,imageUrl:i,name:n,id:a,key:a,trackRef:l,totalTracks:o,ownerName:c,token:e.props.token})})))))}}]),t}(n.Component)),kt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={auth:!1,token:null,userPlaylists:[],display_name:"",user_id:"",nextPlaylists:null,loading:!1,chosenPlaylist:[]},a.getUserId=a.getUserId.bind(Object(m.a)(a)),a.getPlayListData=a.getPlayListData.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getUserId",value:function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.setState({loading:!0}),a.next=3,o.a.awrap(Q(e));case 3:t=a.sent,setTimeout(function(){this.getPlayListData(e)}.bind(this),2e3),this.setState({display_name:t.data.display_name,user_id:t.data.id});case 6:case"end":return a.stop()}}),null,this)}},{key:"getPlayListData",value:function(e){var t,a,n,r,s,i,l,c,u,d;return o.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return this.setState({loading:!0}),p.next=3,o.a.awrap(_(e));case 3:t=p.sent,console.log(t),a=[],n=null,a=t.items;case 8:if("undefined"===typeof t.next||null===t.next){p.next=19;break}return console.log(e,t.next),p.next=12,o.a.awrap(H(e,t.next));case 12:if(n=p.sent,a=a.concat(n.items),null!==n.next){p.next=16;break}return p.abrupt("break",19);case 16:t.next=n.next,p.next=8;break;case 19:for(r=[],s=[],i=[],l=[],c=[],a.forEach((function(e){return e.images[0]?r.push(e.images[0].url):r.push(null)})),a.forEach((function(e){return s.push(e.tracks.href)})),a.forEach((function(e){return l.push(e.tracks.total)})),a.forEach((function(e){return i.push(e.owner.display_name)})),u=0;u<a.length;u++)(d={}).id=a[u].id,d.name=a[u].name,d.description=a[u].description,d.imageUrl=r[u],d.trackRef=s[u],d.ownerName=i[u],d.totalTracks=l[u],c.push(d);this.setState({loading:!1,userPlaylists:c});case 30:case"end":return p.stop()}}),null,this)}},{key:"componentDidMount",value:function(){var e=window.location.href;"undefined"!==typeof(e=e.split("_token=")[1])?(e=e.split("&token")[0],this.setState({token:e,auth:!0}),this.getUserId(e)):this.setState({token:null,auth:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"homepage-div"},r.a.createElement("br",null),r.a.createElement("h3",null,"Import your spotify playlists into the app!"),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(se.a,null,r.a.createElement(ie.a,{sm:"4",className:"spotifypage1"},this.state.auth?r.a.createElement("span",null,"Hello, you are logged in as ",r.a.createElement("br",null),this.state.display_name," !"):"Please login to use the playlist importer!"),r.a.createElement(ie.a,{sm:"4",className:"spotifypage2"},r.a.createElement(ce.a,{href:"https://accounts.spotify.com/authorize?client_id=dc20085012814f3d8cab4b36a4144393&response_type=token&redirect_uri=http:%2F%2Flocalhost:3000%2Fspotify&show_dialog=true&scope=playlist-read-private%20playlist-read-collaborative%20user-follow-read"},this.state.auth?"Change account.":"Log in.")),r.a.createElement(ie.a,{sm:"4",className:"spotifypage3"},this.state.auth?r.a.createElement(vt,{Userplaylists:this.state.userPlaylists,loading:this.state.loading,token:this.state.token}):""))))}}]),t}(n.Component),Et=a(259),wt=function(e){var t=e.component,a=e.roles,n=Object(Et.a)(e,["component","roles"]);return r.a.createElement(y.b,Object.assign({},n,{render:function(e){var s=ne.currentUserValue;return s?a&&-1===a.indexOf(s.user.role)?r.a.createElement(y.a,{to:{pathname:"/"}}):r.a.createElement(t,Object.assign({},e,{data:n.data,loadUser:n.loadUser})):r.a.createElement(y.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Pt=a(76),Ot=a.n(Pt),jt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={currentUserInfo:a.props.currentUserInfo},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({currentUserInfo:this.props.currentUserInfo})}},{key:"clickOnPlayList",value:function(){this.props.getPlayListById(this.props.id)}},{key:"load",value:function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],n.next=3,o.a.awrap(ne.loadUser(e));case 3:null!==(a=n.sent)&&(a.playlists.forEach((function(e){t.push(e._id)})),this.setState({currentUserInfo:t}));case 5:case"end":return n.stop()}}),null,this)}},{key:"subscribe",value:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props),console.log(this.state),e.next=4,o.a.awrap(X(this.props.id,this.props.name,this.props.private,this.props.owner,this.props.createdAt,this.props.token));case 4:this.load(this.props.token);case 5:case"end":return e.stop()}}),null,this)}},{key:"unsubscribe",value:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(Z(this.props.id));case 2:this.load(this.props.token);case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.currentUserInfo||"",t=this.props.id;return r.a.createElement("div",null,r.a.createElement(le.a,{className:"card"},r.a.createElement(oe.a,null,r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"2",sm:"2"},e.includes(t)?r.a.createElement("div",null,r.a.createElement(ce.a,{disabled:this.props.private,href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.unsubscribe.bind(this,this.state)},r.a.createElement(ue.a,null,"Unsubscribe")," ")):r.a.createElement("div",null,r.a.createElement(ce.a,{disabled:this.props.private,href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.subscribe.bind(this,this.state)},r.a.createElement(ue.a,null,"Subscribe")," "))),r.a.createElement(ie.a,{xs:"4",sm:"4"},r.a.createElement(ce.a,{href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.clickOnPlayList.bind(this,this.state)},r.a.createElement(ue.a,null,this.props.name))),r.a.createElement(ie.a,{xs:"4",sm:"4"},r.a.createElement("small",{className:"text-muted"},"Created at:"," ",r.a.createElement(Ot.a,{format:"DD-MM-YYYY HH:mm"},this.props.createdAt))),r.a.createElement(ie.a,{xs:"2",sm:"2"},"By ",this.props.owner)))))}}]),t}(n.Component),xt=(a(248),a(261)),Nt=a.n(xt),Ct=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={loading:!0,size:a.props.size||150},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading",id:"spinner2"},r.a.createElement("br",null),r.a.createElement(Nt.a,{size:15,color:this.props.color||"#c45a8e",loading:this.state.loading,margin:2}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"loadingText"},"Loading..."))}}]),t}(r.a.Component),St=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderRow=function(e){var t=e.index,n=e.style,s=a.props.playlists,i=s[t],l=i.name,o=i._id,c=i.createdAt,u=i.owner,d=s[t].private;return r.a.createElement("div",{key:o,style:n},r.a.createElement(jt,{currentUserInfo:a.state.currentUserInfo,loadPlaylists:a.props.loadPlaylists,getPlayListById:a.props.getPlayListById,token:a.props.token,createdAt:c,id:o,name:l,owner:u,private:d}))},a.bindListRef=function(e){a.list=e},a.state={playlists:a.props.playlists,token:a.props.token,userData:a.props.userData,loading:a.props.loading||!0},a.load=a.load.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.load(this.state.token)}},{key:"componentDidUpdate",value:function(e){he()(this.props,e)||(console.log("Change?"),this.list&&this.list.forceUpdateGrid(),this.setState({playlists:this.props.playlists,token:this.props.token,Userplaylists:this.props.Userplaylists,userData:this.props.userData,loading:this.props.loading}))}},{key:"load",value:function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],n.next=3,o.a.awrap(ne.loadUser(e));case 3:null!==(a=n.sent)&&a.playlists.forEach((function(e){t.push(e._id)}));case 5:case"end":return n.stop()}}))}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state.playlists;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{id:"spinnerDiv2"},this.state.loading?r.a.createElement(Ct,{size:50,color:"white"}):null),r.a.createElement(xe.a,null,(function(a){var n=a.width;return r.a.createElement(xe.c,{ref:e.bindListRef,width:n,height:700,rowCount:t.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),t}(n.Component),It=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={artistName:a.props.artistName,title:a.props.title,imported:a.props.imported,date:a.props.date,duration:a.props.duration},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"addToImport",value:function(e){this.props.addToImport(e)}},{key:"removeFromPlaylist",value:function(e){this.props.removeFromPlaylist(e)}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement(le.a,{className:"card"},r.a.createElement(oe.a,null,r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"2",sm:"2"},this.state.duration),r.a.createElement(ie.a,{xs:"8",sm:"8"},r.a.createElement(ue.a,null,this.state.title)),r.a.createElement(ie.a,{xs:"2",sm:"2"},this.state.imported?r.a.createElement(ce.a,{onClick:this.removeFromPlaylist.bind(this,this.props),className:"btn btn-secondary",color:"secondary"},"x"):r.a.createElement(ce.a,{onClick:this.addToImport.bind(this,this.props),className:"btn btn-secondary",color:"secondary"},"+"))),r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"12",sm:"12"},r.a.createElement("span",{className:"float-right"},"Added at: \xa0",r.a.createElement(Ot.a,{format:"DD-MM-YYYY HH:mm"},this.state.date)))))))}}]),t}(n.Component),Tt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).renderRow=function(e){var t=e.index,n=(e.key,e.isScrolling,e.isVisible,e.style),s=a.props.tracks[t],i=s.title,l=s.artistName,o=s.id,c=s.duration,u=s.date,d=s.videoId;return r.a.createElement("div",{key:Math.random(),style:n},r.a.createElement(It,{id:Math.random(),key:o,artistName:l,addToImport:a.props.addToImport,imported:!1,title:i,duration:c,date:u,videoId:d}))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(xe.a,null,(function(t){var a=t.width;return r.a.createElement(xe.c,{width:a,height:550,rowCount:e.props.tracks.length,rowHeight:80,rowRenderer:e.renderRow})})))}}]),t}(n.Component),At=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderRow=function(e){var t=e.index,n=(e.key,e.isScrolling,e.isVisible,e.style),s=a.props.toBeImportedPlaylist[t],i=s.title,l=s.artistName,o=s.id,c=s.duration,u=s.date,d=s.videoId;return r.a.createElement("div",{key:o,style:n},r.a.createElement(It,{key:o,id:o,artistName:l,importPlaylistToApp:a.props.importPlaylistToApp,removeFromPlaylist:a.props.removeFromPlaylist,imported:!0,title:i,duration:c,date:u,videoId:d}))},a.state={toBeImportedPlaylist:a.props.toBeImportedPlaylist,updated:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({toBeImportedPlaylist:this.props.toBeImportedPlaylist})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(xe.a,null,(function(t){var a=t.width;return r.a.createElement(xe.c,{width:a,height:550,rowCount:e.props.toBeImportedPlaylist.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),t}(n.Component),Ut=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1,name:"",checked:!1,select:"Random"},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(Me.a)({},e.target.name,e.target.value)),console.log(a.state.select)},a.onSubmit=function(e){e.preventDefault(),console.log(e),a.props.makePlaylist(a.state.name,a.state.checked,a.state.select,a.props.owner),a.toggle()},a.boxChange=function(e){a.setState({checked:e.target.checked})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ce.a,{disabled:this.props.disabled,className:"float-left btn-margin btn-secondary btn button",onClick:this.toggle,href:"#",color:"secondary"},"Add playlist to your collections."),r.a.createElement(ze.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(Qe.a,{className:"mb-4",toggle:this.toggle},"Create a new playlist here :)",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(Xe.a,{onSubmit:this.onSubmit},r.a.createElement(_e.a,null,r.a.createElement(Re.a,null,r.a.createElement(Be.a,{for:"name"},"Name for the playlist:"),r.a.createElement(Ee.a,{type:"name",name:"name",id:"name",placeholder:"epic-partylist",className:"mb-4",onChange:this.onChange,required:!0}),r.a.createElement(Be.a,{className:""},"Genres"),$e(this.onChange),r.a.createElement("br",null),r.a.createElement("div",{className:"check"},r.a.createElement(Be.a,{check:!0,className:"float-right "},r.a.createElement(Ee.a,{name:"checked",onChange:this.boxChange,checked:this.state.checked,type:"checkbox"}),"Make the playlist private?")),r.a.createElement("br",null),r.a.createElement(ce.a,{className:"btn btn-primary my-4 btn-block"},"Save"))))))}}]),t}(n.Component),Lt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChangeImport=function(e){a.setState({importFilter:e.target.value})},a.handleChangeLoad=function(e){a.setState({loadFilter:e.target.value})},a.clearList=function(){a.setState({toBeImportedPlaylist:[]})},a.getAllSongs=function(e){e.forEach((function(e){return a.addToImport(e)}))},a.state={importFilter:"",loadFilter:"",tracks:a.props.tracks,toBeImportedPlaylist:[],modal:!0},a.addToImport=a.addToImport.bind(Object(m.a)(a)),a.removeFromPlaylist=a.removeFromPlaylist.bind(Object(m.a)(a)),a.addPlayListToColl=a.addPlayListToColl.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"removeFromPlaylist",value:function(e){if(e&&"undefined"!==typeof this.state.toBeImportedPlaylist[0]){for(var t=0;t<this.state.toBeImportedPlaylist.length;t++)if(this.state.toBeImportedPlaylist[t].id===e.id){this.state.toBeImportedPlaylist.splice(t,1);break}this.setState({updated:e.videoId})}}},{key:"addToImport",value:function(e){var t=Object.assign({},e);t.id=Math.random(),this.state.toBeImportedPlaylist.push(t),this.setState({updated:!0})}},{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({tracks:this.props.tracks})}},{key:"addPlayListToColl",value:function(e,t,a,n){var s,i,l;return o.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return s=this.state.toBeImportedPlaylist,i=JSON.stringify({name:e,playlist:s,isPrivate:t,owner:n,genre:a}),c.next=4,o.a.awrap(J(i));case 4:if(l=c.sent){c.next=8;break}return De.a.notify(r.a.createElement("span",null,"An error making the playlist has occured. Please try again!"),{duration:2800}),c.abrupt("return");case 8:X(l.data._id,e,t,n,l.data.createdAt,this.props.token),De.a.notify(r.a.createElement("span",null,"Playlist created!"),{duration:2800});case 10:case"end":return c.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.importFilter,a=e.loadFilter,n=e.toBeImportedPlaylist,s=e.tracks;console.log(s);var i=t.toLowerCase(),l=n.filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&"id"!==t&&e[t].toLowerCase().includes(i)}))})),o=a.toLowerCase(),c=s.filter((function(e){return Object.keys(e).some((function(t){return"string"===typeof e[t]&&"id"!==t&&e[t].toLowerCase().includes(o)}))}));return console.log(c),console.log(this.props),r.a.createElement("div",{className:"playlistEditor"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement(Ee.a,{value:t,onChange:this.handleChangeImport,placeholder:"Filter songs based on title..."}),r.a.createElement("span",{className:"float-left"},"Songs: ",l.length),r.a.createElement("br",null),r.a.createElement(At,{removeFromPlaylist:this.removeFromPlaylist,toBeImportedPlaylist:l}))),r.a.createElement(ie.a,{xs:"6",sm:"6"},r.a.createElement("div",{id:"lists"},r.a.createElement(Ee.a,{value:a,onChange:this.handleChangeLoad,placeholder:"Filter songs based on title..."}),r.a.createElement("span",{className:"float-left"},"Songs: ",c.length),r.a.createElement("br",null),r.a.createElement(Tt,{tracks:c,addToImport:this.addToImport})))),r.a.createElement(se.a,{id:"lowerRow"},r.a.createElement(ie.a,{xs:"4",sm:"4"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(Ut,{disabled:!this.state.toBeImportedPlaylist.length,owner:this.props.data.name,makePlaylist:this.addPlayListToColl}))),r.a.createElement(ie.a,{xs:"1",sm:"1"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ce.a,{onClick:this.clearList.bind(this)},"Clear list"))),r.a.createElement(ie.a,{xs:"2",sm:"2"},r.a.createElement("div",{className:"placeforbutton"},r.a.createElement(ce.a,{onClick:this.getAllSongs.bind(this,c)},"Get all songs")))))}}]),t}(n.Component),qt=(n.Component,a(262)),Dt=a.n(qt),Rt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={loading:!0,size:a.props.size||150},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sweet-loading",id:"spinner2"},r.a.createElement("br",null),r.a.createElement(Dt.a,{size:this.state.size,color:this.props.color||"#c45a8e",loading:this.state.loading}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("i",{className:"loadingText"},"Loading..."))}}]),t}(r.a.Component),Bt=(a(488),function(e){return new Promise((function(t){return setTimeout(t,e)}))}),Ft=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onSortChange=function(e){var t=e.target.value,n=a.state.playlists;switch(t){case"Latest":n.sort((function(e,t){return t.createdAt>e.createdAt?1:-1}));break;case"Last":n.sort((function(e,t){return e.createdAt>t.createdAt?1:-1}));break;case"By name":n.sort((function(e,t){return e.name>t.name?1:-1}));break;case"By owner":n.sort((function(e,t){return e.owner>t.owner?1:-1}))}console.log("Yeps..."),a.setState({sortedPlaylists:n})},a.onChange=function(e){var t=e.target.value;console.log(t),"All"===e.target.value&&(t=""),a.setState({genreFilter:t});var n=a.state.playlists,r=t.toLowerCase(),s=n.filter((function(e){return null===e||"undefined"===typeof e?n:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"_id"!==t&&e[t].toLowerCase().includes(r)}))}));a.setState({genreFilter:e.target.value,genreFilteredData:s})},a.handleChange=function(e){a.setState({filter:e.target.value})},a.state={playlists:[],token:"",filter:"",tracks:[],loading:!1,filteredData:[],genreFilteredData:[],sortedPlaylists:[],data:a.props.data},a.loadPlaylists=a.loadPlaylists.bind(Object(m.a)(a)),a.getPlayListById=a.getPlayListById.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"loadPlaylists",value:function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loadingPlaylists:!0}),t.next=3,o.a.awrap(Bt(300));case 3:return t.next=5,o.a.awrap(Y());case 5:e=t.sent,this.setState({playlists:e.data.Playlist.reverse(),filteredData:e.data.Playlist,genreFilteredData:e.data.Playlist,sortedPlaylists:e.data.Playlist,loadingPlaylists:!1});case 7:case"end":return t.stop()}}),null,this)}},{key:"getPlayListById",value:function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.setState({loading:!0}),a.next=3,o.a.awrap(Bt(2500));case 3:return a.next=5,o.a.awrap(K(e));case 5:t=a.sent,this.setState({tracks:t.data.playlist,loading:!1});case 7:case"end":return a.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(e){he()(this.props,e)||(this.setState({user:this.props.data}),this.props.data&&this.setState({Userplaylists:this.props.data.playlists,data:this.props.data}))}},{key:"componentDidMount",value:function(){var e=ne.currentUserValue;e&&e.token&&(this.setState({token:e.token,data:this.props.data}),this.loadPlaylists()),this.props.loadUser()}},{key:"render",value:function(){console.log(this.state);var e=this.state,t=e.token,a=e.filter,n=this.state,s=(n.playlists,n.genreFilteredData),i=n.sortedPlaylists,l=a.toLowerCase();console.log(this.state.loadingPlaylists);var o=i.filter((function(e){return-1!==s.indexOf(e)}));console.log(i),console.log(s);var c=o.filter((function(e){return null===e||"undefined"===typeof e?o:Object.keys(e).some((function(t){return"string"===typeof e[t]&&"_id"!==t&&"createdAt"!==t&&"updatedAt"!==t&&e[t].toLowerCase().includes(l)}))}));return console.log(c),r.a.createElement("div",{className:"container-fluid homepage-div"},r.a.createElement("div",{id:"spinnerDiv"},this.state.loading?r.a.createElement(Rt,{color:"white"}):null),r.a.createElement("div",{id:"spinnerDiv2"},this.state.playlistsLoading?r.a.createElement(Rt,{size:50,color:"white"}):null),r.a.createElement("br",null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"4",sm:"4",className:"spotifypage1"},"Playlists to choose from :)!",r.a.createElement("br",null),"You can subscribe to public playlists or just load a playlist by clicking on the name and editing on the playlist-editor on the right side.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"inputDiv"},r.a.createElement(Ee.a,{id:"filterId",value:a,onChange:this.handleChange,placeholder:"Filter playlists..."}),r.a.createElement(Ee.a,{onChange:this.onSortChange,type:"select",name:"select",id:"exampleSelect"},r.a.createElement("option",{key:"Latest",value:"Latest"},"Latest"),r.a.createElement("option",{key:"Last",value:"Last"},"Last"),r.a.createElement("option",{key:"By name",value:"By name"},"By name"),r.a.createElement("option",{key:"By owner",value:"By owner"},"By owner")),$e(this.onChange,!0)),r.a.createElement(St,{userData:this.state.Userplaylists,loadPlaylists:this.loadPlaylists,token:t,playlists:c,getPlayListById:this.getPlayListById,loading:this.state.loadingPlaylists})),r.a.createElement(ie.a,{xs:"8",sm:"8",className:"spotifypage2"},'Chosen playlist. With options to A) Make a copy to your playlists B) If it\'s a yhteissoittolista: "subscribe"',r.a.createElement("div",{className:this.state.tracks.length?"playListEditorActive":"playListEditorNotActive"},this.state.tracks.length?r.a.createElement(Lt,{data:this.props.data,loadPlaylists:this.loadPlaylists,token:t,playlists:c,getPlayListById:this.getPlayListById,tracks:this.state.tracks}):null)))))}}]),t}(n.Component),Mt=a(52),zt=Object(Mt.a)(),Qt=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"loadPlaylist",value:function(e){this.props.loadPlaylist(e._id)}},{key:"deletePlaylist",value:function(e){this.props.deletePlaylist(e._id)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(le.a,{className:"card"},r.a.createElement(oe.a,null,r.a.createElement("span",{style:{flexDirection:"column"}},r.a.createElement(ce.a,{className:"btn btn-primary float-right btn-remove",color:"danger",onClick:this.deletePlaylist.bind(this,this.props),disabled:!0},"Delete:TODO")),r.a.createElement(He.a,{style:{textAlign:"center"}},this.props.name))))}}]),t}(n.Component),_t=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderRow=function(e){var t=e.index,n=e.style,s=a.props.playlists[t],i=s.title,l=s.artistName,o=s.uniqueId;return r.a.createElement("div",{key:o,style:n},r.a.createElement(Qt,{key:o,id:o,artistName:l,name:i}))},a.state={playlists:a.props.playlists},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({playlists:this.props.playlists})}},{key:"render",value:function(){var e=this.props.playlists;return console.log(e.length),r.a.createElement("div",null,r.a.createElement(xe.c,{width:470,height:550,rowCount:e.length,rowHeight:82,rowRenderer:this.renderRow}))}}]),t}(n.Component),Ht=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modal:!1},a.toggle=function(){a.setState({modal:!a.state.modal})},a.onChange=function(e){a.setState(Object(Me.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.playlists;return r.a.createElement("div",null,r.a.createElement(ze.a,{isOpen:this.props.isOpen,toggle:this.props.toggle},r.a.createElement(Qe.a,{className:"mb-4",toggle:this.props.toggle},this.props.name),r.a.createElement(_e.a,null,r.a.createElement("p",{className:"formText text-center"},"Hello"),r.a.createElement(_t,{playlists:e||[]}))))}}]),t}(n.Component),Vt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).toggleList=function(){a.setState({modal:!a.state.modal})},a.toggle=function(){a.setState({modal:!a.state.modal})},a.state={modal:!1,loading:!1},a.deletePlaylist=a.deletePlaylist.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"deletePlaylist",value:function(){console.log("Hey"),this.setState({loading:!0}),this.props.deletePlaylist(this.props.id)}},{key:"clickOnPlayList",value:function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loading:!0}),t.next=3,o.a.awrap(K(this.props.id));case 3:e=t.sent,this.setState({playlist:e.data.playlist,playlistName:e.data.name,playlistId:e.data._id,loading:!1,private:e.data.private}),this.toggleList();case 6:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(le.a,{className:"card"},r.a.createElement(oe.a,null,r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"6",sm:"6"},r.a.createElement(ce.a,{href:"# ",color:"secondary",style:{cursor:"pointer"},onClick:this.clickOnPlayList.bind(this,this.state)},r.a.createElement(ue.a,null,this.props.name))),r.a.createElement(ie.a,{xs:"4",sm:"4"},r.a.createElement("small",{className:"text-muted"},"Created at:"," ",r.a.createElement(Ot.a,{format:"DD-MM-YYYY HH:mm"},this.props.createdAt))),r.a.createElement(ie.a,{xs:"2",sm:"2"},r.a.createElement(ce.a,{color:"secondary",onClick:this.deletePlaylist.bind(this),className:this.state.loading?"loading btn btn-primary float-left":"btn btn-primary float-left"},this.state.loading?"Deleting...":"Delete"))))),r.a.createElement(Ht,{isOpen:this.state.modal,toggle:this.toggle,name:this.state.playlistName,playlists:this.state.playlist}))}}]),t}(n.Component),Yt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).renderRow=function(e){var t=e.index,n=e.style,s=a.props.playlists[t],i=s.name,l=s._id,o=s.createdAt;return r.a.createElement("div",{key:l,style:n},r.a.createElement(Vt,{loadPlaylists:a.props.loadPlaylists,deletePlaylist:a.props.deletePlaylist,token:a.props.token,createdAt:o,id:l,name:i}))},a.state={playlists:a.props.playlists,token:a.props.token},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){he()(this.props,e)||this.setState({playlists:this.props.playlists,token:this.props.token})}},{key:"render",value:function(){var e=this,t=this.state.playlists;return r.a.createElement("div",null,"All playlists",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.a,null,(function(a){var n=a.width;return r.a.createElement(xe.c,{width:n,height:700,rowCount:t.length,rowHeight:82,rowRenderer:e.renderRow})})))}}]),t}(n.Component),Jt=(a(489),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={playlists:[],token:""},a.loadPlaylists=a.loadPlaylists.bind(Object(m.a)(a)),a.deletePlaylist=a.deletePlaylist.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"loadPlaylists",value:function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("I shouldn't"),t.next=3,o.a.awrap(Y());case 3:e=t.sent,this.setState({playlists:e.data.Playlist});case 5:case"end":return t.stop()}}),null,this)}},{key:"deletePlaylist",value:function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(G(e));case 2:this.loadPlaylists();case 3:case"end":return t.stop()}}),null,this)}},{key:"componentDidMount",value:function(){var e=ne.currentUserValue;e&&e.token&&(this.setState({token:e.token}),this.loadPlaylists())}},{key:"render",value:function(){var e=this.state,t=e.token,a=e.playlists;return r.a.createElement("div",null,r.a.createElement("div",{className:"container-fluid homepage-div"},r.a.createElement(se.a,null,r.a.createElement(ie.a,{xs:"2",sm:"2",className:"adminpage1"},"ds"),r.a.createElement(ie.a,{xs:"6",sm:"6",className:"adminpage2"},r.a.createElement(Yt,{loadPlaylists:this.loadPlaylists,token:t,playlists:a,deletePlaylist:this.deletePlaylist})),r.a.createElement(ie.a,{xs:"4",sm:"4",className:"adminpage3"},"d"))))}}]),t}(n.Component)),Wt=function(){return r.a.createElement("h3",null,"404 - Not found")},Gt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={currentUserInfo:null,isAuth:!1},a.loadUser=a.loadUser.bind(Object(m.a)(a)),a.logout=a.logout.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"loadUser",value:function(e){var t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(ne.loadUser(e));case 2:null!==(t=a.sent)?this.setState({currentUserInfo:t,isAuth:!0}):this.setState({currentUserInfo:null,isAuth:!1,token:null});case 4:case"end":return a.stop()}}),null,this)}},{key:"componentDidMount",value:function(){var e=this;ne.currentUser.subscribe((function(t){t&&(e.setState({token:t.token}),e.loadUser())})),ee(),this.interval=setInterval((function(){ee()}),9e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"logout",value:function(){ne.logout(),zt.push("/login"),this.setState({token:null})}},{key:"render",value:function(){var e=this.state,t=e.currentUserInfo,a=e.token;e.isAuth;return r.a.createElement("div",{className:"App wrapper"},r.a.createElement(y.c,{history:zt},a&&r.a.createElement(re,{logout:this.logout}),r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/login",component:ut}),r.a.createElement(wt,{path:"/",data:t,loadUser:this.loadUser,exact:!0,component:ot}),r.a.createElement(wt,{path:"/spotify",data:t,component:kt}),r.a.createElement(wt,{path:"/playlists",data:t,component:Ft,loadUser:this.loadUser}),r.a.createElement(wt,{path:"/admin",data:t,roles:["Admin"],component:Jt}),r.a.createElement(y.b,{component:Wt}))))}}]),t}(n.Component);a(490),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Gt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[264,1,2]]]);
//# sourceMappingURL=main.ea6b7a51.chunk.js.map